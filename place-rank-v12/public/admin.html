<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ì´ì§€ë³´ë“œ ê´€ë¦¬ì</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<style>
:root{
  --blue:#2563EB;--blue2:#1D4ED8;--blue3:#60A5FA;--blue-50:#EFF6FF;
  --navy:#0F172A;--slate:#334155;--gray:#64748B;--gray2:#94A3B8;
  --gray-border:#E2E8F0;--gray-bg:#F8FAFC;--white:#FFFFFF;
  --green:#10B981;--red:#EF4444;--amber:#F59E0B;
  --font:'Noto Sans KR',sans-serif;--radius:12px;
}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:var(--font);background:var(--gray-bg);color:var(--slate);min-height:100vh}

.hdr{display:flex;align-items:center;justify-content:space-between;padding:14px 24px;background:var(--white);border-bottom:1px solid var(--gray-border);position:sticky;top:0;z-index:100}
.hdr-left{display:flex;align-items:center;gap:12px}
.logo{font-size:18px;font-weight:800;color:var(--navy)}
.logo small{font-size:11px;font-weight:500;color:var(--gray);margin-left:4px}
.admin-badge{background:var(--red);color:white;font-size:10px;font-weight:700;padding:2px 8px;border-radius:20px}
.hdr-right{display:flex;align-items:center;gap:10px}
.hdr-btn{font-size:12px;font-weight:600;padding:6px 14px;border-radius:8px;border:1px solid var(--gray-border);background:var(--white);color:var(--gray);cursor:pointer;transition:all .2s}
.hdr-btn:hover{border-color:var(--blue);color:var(--blue)}
.hdr-btn.danger{color:var(--red)}

.stats{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;padding:24px;max-width:1200px;margin:0 auto}
.stat-card{background:var(--white);border:1px solid var(--gray-border);border-radius:var(--radius);padding:20px}
.stat-label{font-size:12px;font-weight:600;color:var(--gray);margin-bottom:4px}
.stat-num{font-size:28px;font-weight:800}

.content{max-width:1200px;margin:0 auto;padding:0 24px 40px}
.panel{background:var(--white);border:1px solid var(--gray-border);border-radius:var(--radius);overflow:hidden}
.panel-head{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;border-bottom:1px solid var(--gray-border);flex-wrap:wrap;gap:10px}
.panel-title{font-size:15px;font-weight:700;color:var(--navy)}
.panel-actions{display:flex;gap:8px;align-items:center}
.search-input{padding:7px 12px;border:1px solid var(--gray-border);border-radius:8px;font-size:12px;font-family:var(--font);outline:none;width:180px}
.search-input:focus{border-color:var(--blue)}

.tbl-wrap{overflow-x:auto}
.tbl{width:100%;border-collapse:collapse;font-size:12px}
.tbl th{text-align:left;padding:10px 12px;background:var(--gray-bg);color:var(--gray);font-weight:600;font-size:10px;text-transform:uppercase;border-bottom:1px solid var(--gray-border);white-space:nowrap}
.tbl td{padding:10px 12px;border-bottom:1px solid var(--gray-border);vertical-align:middle}
.tbl tr:last-child td{border-bottom:none}
.tbl tr:hover td{background:rgba(37,99,235,.02);cursor:pointer}
.badge{display:inline-block;padding:2px 8px;border-radius:4px;font-size:10px;font-weight:700}
.b-admin{background:rgba(239,68,68,.08);color:var(--red)}
.b-user{background:rgba(37,99,235,.08);color:var(--blue)}
.b-biz{background:rgba(245,158,11,.08);color:var(--amber)}
.b-corp{background:rgba(139,92,246,.08);color:#8B5CF6}
.b-gen{background:rgba(100,116,139,.08);color:var(--gray)}
.s-ok{color:var(--green);font-weight:600}
.s-wait{color:var(--amber);font-weight:600}
.act-btn{font-size:11px;font-weight:600;padding:4px 10px;border-radius:6px;border:1px solid var(--gray-border);background:var(--white);cursor:pointer;transition:all .15s;white-space:nowrap}
.act-btn:hover{border-color:var(--blue);color:var(--blue);background:var(--blue-50)}
.act-btn.del{color:var(--red)}.act-btn.del:hover{border-color:var(--red);background:rgba(239,68,68,.05)}
.act-btn.ok{color:var(--green)}.act-btn.ok:hover{border-color:var(--green)}
.empty{padding:40px;text-align:center;font-size:13px;color:var(--gray)}

/* ìƒì„¸ ì¹´ë“œ */
.ov{display:none;position:fixed;inset:0;background:rgba(0,0,0,.45);z-index:200;align-items:center;justify-content:center}
.ov.open{display:flex}
.d-card{background:var(--white);border-radius:16px;width:92%;max-width:520px;box-shadow:0 20px 60px rgba(0,0,0,.15);overflow:hidden}
.d-hdr{background:linear-gradient(135deg,#0F172A,#1e3a5f);color:white;padding:24px 28px;display:flex;align-items:center;gap:16px}
.d-avatar{width:56px;height:56px;border-radius:50%;background:var(--blue);display:flex;align-items:center;justify-content:center;font-size:22px;font-weight:800;color:white;flex-shrink:0}
.d-name{font-size:20px;font-weight:800}
.d-sub{font-size:12px;color:rgba(255,255,255,.6);margin-top:2px}
.d-body{padding:20px 28px}
.d-row{display:flex;justify-content:space-between;align-items:center;padding:10px 0;border-bottom:1px solid var(--gray-border);font-size:13px}
.d-row:last-child{border-bottom:none}
.d-label{color:var(--gray);font-weight:600;min-width:100px}
.d-val{color:var(--navy);font-weight:500;text-align:right;word-break:break-all}
.d-val a{color:var(--blue);text-decoration:underline}
.d-foot{padding:14px 28px;border-top:1px solid var(--gray-border);display:flex;gap:10px;justify-content:flex-end}

/* ëª¨ë‹¬ */
.modal{background:var(--white);border-radius:var(--radius);padding:28px;width:92%;max-width:440px;box-shadow:0 20px 60px rgba(0,0,0,.15)}
.modal-title{font-size:17px;font-weight:800;color:var(--navy);margin-bottom:20px}
.fg{margin-bottom:14px}
.fl{font-size:12px;font-weight:600;color:var(--slate);margin-bottom:4px;display:block}
.fi{width:100%;padding:10px 14px;border:1px solid var(--gray-border);border-radius:8px;font-size:13px;font-family:var(--font);outline:none}
.fi:focus{border-color:var(--blue);box-shadow:0 0 0 3px rgba(37,99,235,.1)}
.fs{width:100%;padding:10px 14px;border:1px solid var(--gray-border);border-radius:8px;font-size:13px;font-family:var(--font);outline:none;background:var(--white)}
.m-btns{display:flex;gap:10px;margin-top:20px}
.btn{padding:10px 20px;border-radius:8px;font-size:13px;font-weight:700;font-family:var(--font);cursor:pointer;border:none;transition:all .2s}
.btn-p{background:var(--blue);color:white}.btn-p:hover{background:var(--blue2)}
.btn-c{background:var(--gray-bg);color:var(--gray);border:1px solid var(--gray-border)}
.toast{position:fixed;bottom:24px;left:50%;transform:translateX(-50%);background:var(--navy);color:white;padding:10px 24px;border-radius:8px;font-size:13px;font-weight:600;z-index:300;display:none;box-shadow:0 8px 24px rgba(0,0,0,.2)}

/* ë‹¤í¬ëª¨ë“œ */
[data-theme="dark"]{--navy:#E0E4EA;--slate:#B8C2D0;--gray:#7A8599;--gray-border:rgba(255,255,255,.08);--gray-bg:#0C0C18;--white:#1C1C2E;--blue-50:rgba(37,99,235,.06)}
[data-theme="dark"] body{background:#0C0C18}
[data-theme="dark"] .hdr{background:#141422;border-color:rgba(255,255,255,.05)}
[data-theme="dark"] .stat-card,.panel{background:#1C1C2E;border-color:rgba(255,255,255,.06)}
[data-theme="dark"] .panel-head{border-color:rgba(255,255,255,.06)}
[data-theme="dark"] .tbl th{background:#141422;color:#7A8599;border-color:rgba(255,255,255,.04)}
[data-theme="dark"] .tbl td{border-color:rgba(255,255,255,.04)}
[data-theme="dark"] .modal,.d-card{background:#1C1C2E}
[data-theme="dark"] .d-body .d-row{border-color:rgba(255,255,255,.06)}
[data-theme="dark"] .d-foot{border-color:rgba(255,255,255,.06)}
[data-theme="dark"] .fi,[data-theme="dark"] .fs{background:#141422;border-color:rgba(255,255,255,.08);color:#D0D5DD}
[data-theme="dark"] .act-btn,[data-theme="dark"] .hdr-btn{background:#141422;border-color:rgba(255,255,255,.08);color:#A0A8B4}
[data-theme="dark"] .search-input{background:#141422;border-color:rgba(255,255,255,.08);color:#D0D5DD}
.tm{position:fixed;bottom:24px;right:24px;width:48px;height:48px;border-radius:50%;border:1px solid var(--gray-border);background:var(--white);display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:22px;box-shadow:0 4px 12px rgba(0,0,0,.1);z-index:998}
[data-theme="dark"] .tm{background:#1C1C2E;border-color:rgba(255,255,255,.08)}
@media(max-width:768px){.stats{grid-template-columns:repeat(2,1fr);padding:16px}.content{padding:0 16px 40px}}
</style>
</head>
<body>

<header class="hdr">
  <div class="hdr-left">
    <div class="logo">ì´ì§€ë³´ë“œ<small>Admin</small></div>
    <span class="admin-badge">ê´€ë¦¬ì</span>
  </div>
  <div class="hdr-right">
    <span id="adminName" style="font-size:12px;font-weight:600;color:var(--gray)"></span>
    <button class="hdr-btn" onclick="location.href='/app'">ì•±ìœ¼ë¡œ ì´ë™</button>
    <button class="hdr-btn danger" onclick="doLogout()">ë¡œê·¸ì•„ì›ƒ</button>
  </div>
</header>

<div class="stats">
  <div class="stat-card"><div class="stat-label">ì „ì²´ íšŒì›</div><div class="stat-num" style="color:var(--blue)" id="sT">0</div></div>
  <div class="stat-card"><div class="stat-label">ìŠ¹ì¸ ì™„ë£Œ</div><div class="stat-num" style="color:var(--green)" id="sA">0</div></div>
  <div class="stat-card"><div class="stat-label">ìŠ¹ì¸ ëŒ€ê¸°</div><div class="stat-num" style="color:var(--amber)" id="sP">0</div></div>
  <div class="stat-card"><div class="stat-label">ê´€ë¦¬ì</div><div class="stat-num" style="color:var(--red)" id="sD">0</div></div>
</div>

<div class="content">
  <div class="panel">
    <div class="panel-head">
      <div class="panel-title">ğŸ‘¥ íšŒì› ê´€ë¦¬</div>
      <div class="panel-actions">
        <input class="search-input" id="searchInput" placeholder="ì´ë¦„/ì•„ì´ë””/íšŒì‚¬ ê²€ìƒ‰..." oninput="renderTable()">
        <button class="hdr-btn" style="color:var(--blue);border-color:rgba(37,99,235,.3)" onclick="openModal('add')">+ íšŒì› ì¶”ê°€</button>
      </div>
    </div>
    <div class="tbl-wrap">
      <table class="tbl">
        <thead><tr>
          <th>#</th><th>ì•„ì´ë””</th><th>ì´ë¦„</th><th>íšŒì‚¬/ìƒí˜¸</th><th>ì—°ë½ì²˜</th><th>ì´ë©”ì¼</th><th>íšŒì›ìœ í˜•</th><th>ì‚¬ì—…ìë“±ë¡ì¦</th><th>ì—­í• </th><th>ìƒíƒœ</th><th>ê°€ì…ì¼</th><th>ê´€ë¦¬</th>
        </tr></thead>
        <tbody id="tb"></tbody>
      </table>
    </div>
    <div id="emptyMsg" class="empty" style="display:none">ë“±ë¡ëœ íšŒì›ì´ ì—†ìŠµë‹ˆë‹¤.</div>
  </div>
</div>

<!-- ìƒì„¸ë³´ê¸° -->
<div class="ov" id="detailOv" onclick="if(event.target===this)this.classList.remove('open')">
  <div class="d-card">
    <div class="d-hdr">
      <div class="d-avatar" id="dAv">?</div>
      <div><div class="d-name" id="dNm">-</div><div class="d-sub" id="dSb">-</div></div>
    </div>
    <div class="d-body">
      <div class="d-row"><span class="d-label">ì•„ì´ë””</span><span class="d-val" id="dId">-</span></div>
      <div class="d-row"><span class="d-label">ì´ë©”ì¼</span><span class="d-val" id="dEm">-</span></div>
      <div class="d-row"><span class="d-label">ì—°ë½ì²˜</span><span class="d-val" id="dPh">-</span></div>
      <div class="d-row"><span class="d-label">íšŒì‚¬/ìƒí˜¸</span><span class="d-val" id="dCo">-</span></div>
      <div class="d-row"><span class="d-label">íšŒì› ìœ í˜•</span><span class="d-val" id="dTy">-</span></div>
      <div class="d-row"><span class="d-label">ì‚¬ì—…ìë“±ë¡ì¦</span><span class="d-val" id="dBz">-</span></div>
      <div class="d-row"><span class="d-label">ì¶”ì²œì¸</span><span class="d-val" id="dRef">-</span></div>
      <div class="d-row"><span class="d-label">ì—­í• </span><span class="d-val" id="dRl">-</span></div>
      <div class="d-row"><span class="d-label">ìŠ¹ì¸ ìƒíƒœ</span><span class="d-val" id="dAp">-</span></div>
      <div class="d-row"><span class="d-label">ê°€ì…ì¼</span><span class="d-val" id="dDt">-</span></div>
    </div>
    <div class="d-foot">
      <button class="btn btn-c" onclick="document.getElementById('detailOv').classList.remove('open')">ë‹«ê¸°</button>
      <button class="btn btn-p" id="dEditBtn">ìˆ˜ì •</button>
    </div>
  </div>
</div>

<!-- ì¶”ê°€/ìˆ˜ì • ëª¨ë‹¬ -->
<div class="ov" id="userModal" onclick="if(event.target===this)closeModal()">
  <div class="modal">
    <div class="modal-title" id="mTitle">íšŒì› ì¶”ê°€</div>
    <input type="hidden" id="eIdx" value="-1">
    <div class="fg"><label class="fl">ì•„ì´ë”” *</label><input class="fi" id="mU"></div>
    <div class="fg"><label class="fl">ì´ë¦„ *</label><input class="fi" id="mN"></div>
    <div class="fg"><label class="fl">ì´ë©”ì¼</label><input class="fi" id="mE" type="email"></div>
    <div class="fg"><label class="fl">íšŒì‚¬/ìƒí˜¸</label><input class="fi" id="mC"></div>
    <div class="fg"><label class="fl">ì „í™”ë²ˆí˜¸</label><input class="fi" id="mP"></div>
    <div class="fg"><label class="fl">ë¹„ë°€ë²ˆí˜¸ (ìˆ˜ì • ì‹œ ë¹„ì›Œë‘ë©´ ìœ ì§€)</label><input class="fi" id="mPw" type="password" placeholder="8ì ì´ìƒ"></div>
    <div class="fg" style="display:flex;gap:12px">
      <div style="flex:1"><label class="fl">ì—­í• </label><select class="fs" id="mR"><option value="user">ì¼ë°˜íšŒì›</option><option value="admin">ê´€ë¦¬ì</option></select></div>
      <div style="flex:1"><label class="fl">ìŠ¹ì¸</label><select class="fs" id="mA"><option value="true">ìŠ¹ì¸</option><option value="false">ëŒ€ê¸°</option></select></div>
    </div>
    <div class="m-btns">
      <button class="btn btn-c" onclick="closeModal()">ì·¨ì†Œ</button>
      <button class="btn btn-p" onclick="saveUser()">ì €ì¥</button>
    </div>
  </div>
</div>

<div class="toast" id="toast"></div>
<div class="tm" id="themeToggle" onclick="toggleTheme()">ğŸŒ™</div>

<script>
let users=[];
const typeMap={individual:'ê°œì¸ì‚¬ì—…ì',corporate:'ë²•ì¸ì‚¬ì—…ì'};
const typeBadge={individual:'<span class="badge b-biz">ê°œì¸ì‚¬ì—…ì</span>',corporate:'<span class="badge b-corp">ë²•ì¸ì‚¬ì—…ì</span>'};

async function init(){
  const r=await fetch('/api/auth/check');const d=await r.json();
  if(!d.loggedIn){location.href='/login';return}
  document.getElementById('adminName').textContent='ğŸ‘¤ '+d.username;
  const r2=await fetch('/api/admin/users');
  if(!r2.ok){showToast('ê´€ë¦¬ì ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤');setTimeout(()=>location.href='/app',1500);return}
  users=await r2.json();render();
}

function render(){
  document.getElementById('sT').textContent=users.length;
  document.getElementById('sA').textContent=users.filter(u=>u.approved).length;
  document.getElementById('sP').textContent=users.filter(u=>!u.approved).length;
  document.getElementById('sD').textContent=users.filter(u=>u.role==='admin').length;
  renderTable();
}

function renderTable(){
  const q=document.getElementById('searchInput').value.toLowerCase();
  const f=q?users.filter(u=>(u.username||'').toLowerCase().includes(q)||(u.name||'').toLowerCase().includes(q)||(u.company||'').toLowerCase().includes(q)||(u.phone||'').includes(q)):users;
  document.getElementById('emptyMsg').style.display=f.length?'none':'block';
  document.getElementById('tb').innerHTML=f.map(u=>{
    const i=users.indexOf(u);
    return `<tr onclick="showDetail(${i})">
      <td>${i+1}</td>
      <td><b>${u.username||'-'}</b></td>
      <td>${u.name||'-'}</td>
      <td>${u.company||'-'}</td>
      <td>${u.phone||'-'}</td>
      <td style="max-width:160px;overflow:hidden;text-overflow:ellipsis">${u.email||'-'}</td>
      <td>${typeBadge[u.memberType]||'<span class="badge b-gen">ì¼ë°˜íšŒì›</span>'}</td>
      <td>${u.bizDoc?'<span style="color:var(--green);font-weight:600">ğŸ“ ì²¨ë¶€ë¨</span>':'<span style="color:var(--gray2)">ë¯¸ì²¨ë¶€</span>'}</td>
      <td><span class="badge ${u.role==='admin'?'b-admin':'b-user'}">${u.role==='admin'?'ê´€ë¦¬ì':'íšŒì›'}</span></td>
      <td><span class="${u.approved?'s-ok':'s-wait'}">${u.approved?'âœ… ìŠ¹ì¸':'â³ ëŒ€ê¸°'}</span></td>
      <td style="white-space:nowrap">${u.createdAt||'-'}</td>
      <td style="white-space:nowrap" onclick="event.stopPropagation()">
        <button class="act-btn" onclick="openModal('edit',${i})">ìˆ˜ì •</button>
        ${!u.approved?`<button class="act-btn ok" onclick="approveUser(${i})">ìŠ¹ì¸</button>`:''}
        ${u.role!=='admin'?`<button class="act-btn del" onclick="deleteUser(${i})">ì‚­ì œ</button>`:''}
      </td>
    </tr>`}).join('');
}

function showDetail(i){
  const u=users[i];
  document.getElementById('dAv').textContent=(u.name||'?')[0];
  document.getElementById('dNm').textContent=u.name||'-';
  document.getElementById('dSb').textContent=`@${u.username} Â· ${u.createdAt||'-'} ê°€ì…`;
  document.getElementById('dId').textContent=u.username||'-';
  document.getElementById('dEm').textContent=u.email||'-';
  document.getElementById('dPh').textContent=u.phone||'-';
  document.getElementById('dCo').textContent=u.company||'-';
  document.getElementById('dTy').textContent=typeMap[u.memberType]||'ì¼ë°˜íšŒì›';
  document.getElementById('dBz').innerHTML=u.bizDoc?`<a href="${u.bizDoc}" target="_blank">ğŸ“ íŒŒì¼ ë³´ê¸°</a>`:'ë¯¸ì²¨ë¶€';
  document.getElementById('dRef').textContent=u.referrer||'ì—†ìŒ';
  document.getElementById('dRl').innerHTML=u.role==='admin'?'<span class="badge b-admin">ê´€ë¦¬ì</span>':'<span class="badge b-user">ì¼ë°˜íšŒì›</span>';
  document.getElementById('dAp').innerHTML=u.approved?'<span class="s-ok">âœ… ìŠ¹ì¸ ì™„ë£Œ</span>':'<span class="s-wait">â³ ìŠ¹ì¸ ëŒ€ê¸°</span>';
  document.getElementById('dDt').textContent=u.createdAt||'-';
  document.getElementById('dEditBtn').onclick=function(){document.getElementById('detailOv').classList.remove('open');openModal('edit',i)};
  document.getElementById('detailOv').classList.add('open');
}

function openModal(mode,idx){
  document.getElementById('eIdx').value=idx??-1;
  document.getElementById('mTitle').textContent=mode==='add'?'íšŒì› ì¶”ê°€':'íšŒì› ìˆ˜ì •';
  if(mode==='edit'&&idx>=0){
    const u=users[idx];
    document.getElementById('mU').value=u.username||'';document.getElementById('mU').readOnly=true;
    document.getElementById('mN').value=u.name||'';
    document.getElementById('mE').value=u.email||'';
    document.getElementById('mC').value=u.company||'';
    document.getElementById('mP').value=u.phone||'';
    document.getElementById('mPw').value='';
    document.getElementById('mR').value=u.role||'user';
    document.getElementById('mA').value=u.approved?'true':'false';
  }else{
    ['mU','mN','mE','mC','mP','mPw'].forEach(id=>document.getElementById(id).value='');
    document.getElementById('mU').readOnly=false;
    document.getElementById('mR').value='user';document.getElementById('mA').value='true';
  }
  document.getElementById('userModal').classList.add('open');
}
function closeModal(){document.getElementById('userModal').classList.remove('open')}

async function saveUser(){
  const idx=parseInt(document.getElementById('eIdx').value);
  const d={username:document.getElementById('mU').value.trim(),name:document.getElementById('mN').value.trim(),email:document.getElementById('mE').value.trim(),company:document.getElementById('mC').value.trim(),phone:document.getElementById('mP').value.trim(),password:document.getElementById('mPw').value,role:document.getElementById('mR').value,approved:document.getElementById('mA').value==='true'};
  if(!d.username||!d.name){showToast('ì•„ì´ë””ì™€ ì´ë¦„ì€ í•„ìˆ˜ì…ë‹ˆë‹¤');return}
  if(idx<0&&!d.password){showToast('ìƒˆ íšŒì›ì€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”');return}
  const r=await fetch(idx>=0?`/api/admin/users/${idx}`:'/api/admin/users',{method:idx>=0?'PUT':'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(d)});
  const j=await r.json();
  if(j.success){showToast(idx>=0?'ìˆ˜ì • ì™„ë£Œ':'ì¶”ê°€ ì™„ë£Œ');closeModal();await reload()}else showToast(j.message||'ì˜¤ë¥˜');
}
async function approveUser(i){const r=await fetch(`/api/admin/users/${i}/approve`,{method:'POST'});const d=await r.json();if(d.success){showToast('ìŠ¹ì¸ ì™„ë£Œ');await reload()}}
async function deleteUser(i){if(!confirm(users[i].username+' íšŒì›ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?'))return;const r=await fetch(`/api/admin/users/${i}`,{method:'DELETE'});const d=await r.json();if(d.success){showToast('ì‚­ì œ ì™„ë£Œ');await reload()}}
async function reload(){const r=await fetch('/api/admin/users');users=await r.json();render()}
async function doLogout(){await fetch('/api/auth/logout',{method:'POST'});location.href='/login'}
function showToast(m){const t=document.getElementById('toast');t.textContent=m;t.style.display='block';setTimeout(()=>t.style.display='none',2500)}
function toggleTheme(){const h=document.documentElement,d=h.getAttribute('data-theme')==='dark';h.setAttribute('data-theme',d?'light':'dark');document.getElementById('themeToggle').textContent=d?'ğŸŒ™':'â˜€ï¸';localStorage.setItem('theme',d?'light':'dark')}
(function(){if(localStorage.getItem('theme')==='dark'){document.documentElement.setAttribute('data-theme','dark');document.getElementById('themeToggle').textContent='â˜€ï¸'}})();
init();
</script>
</body>
</html>
