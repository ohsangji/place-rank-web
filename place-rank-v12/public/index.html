<!DOCTYPE html>
<html lang="ko">
<head>
<link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Crect x='4' y='5' width='24' height='25' rx='4' fill='%232563EB'/%3E%3Crect x='12' y='3' width='8' height='4' rx='2' fill='%2393C5FD'/%3E%3Crect x='8' y='12' width='10' height='2.5' rx='1.2' fill='%23DBEAFE'/%3E%3Crect x='8' y='17' width='12' height='2.5' rx='1.2' fill='%23BFDBFE'/%3E%3Crect x='8' y='22' width='8' height='2.5' rx='1.2' fill='%23DBEAFE'/%3E%3Ccircle cx='23' cy='23' r='6' fill='%2310B981'/%3E%3Cpath d='M20 23L22 25L26 21' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>ì´ì§€ë³´ë“œ EasyBoard â€” í”Œë ˆì´ìŠ¤ ìƒìœ„ë…¸ì¶œ(Top 5) í‚¤ì›Œë“œ ì •ë°€ ì¶”ì¶œê¸°</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
<style>
:root{--navy:#0F172A;--navy2:#1E293B;--blue:#2563EB;--blue2:#3B82F6;--blue3:#60A5FA;--sky:#DBEAFE;--sky2:#EFF6FF;--slate:#334155;--gray:#64748B;--gray2:#94A3B8;--gray3:#CBD5E1;--gray4:#E2E8F0;--gray5:#F1F5F9;--gray6:#F8FAFC;--white:#FFFFFF;--green:#10B981;--green2:#059669;--red:#EF4444;--amber:#F59E0B;--violet:#8B5CF6;--font:'Plus Jakarta Sans',-apple-system,BlinkMacSystemFont,sans-serif;--mono:'JetBrains Mono','Consolas',monospace;--shadow-sm:0 1px 2px rgba(15,23,42,.06);--shadow:0 1px 3px rgba(15,23,42,.08),0 1px 2px rgba(15,23,42,.04);--shadow-md:0 4px 6px -1px rgba(15,23,42,.08),0 2px 4px -2px rgba(15,23,42,.04);--shadow-lg:0 10px 15px -3px rgba(15,23,42,.08),0 4px 6px -4px rgba(15,23,42,.03);--radius:12px;--radius-sm:8px;--radius-xs:6px}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{font-size:14px;scroll-behavior:smooth}
body{font-family:var(--font);background:var(--gray5);color:var(--slate);min-height:100vh;-webkit-font-smoothing:antialiased;transition:background .3s ease,color .3s ease}
.hdr{background:var(--white);border-bottom:1px solid var(--gray4);position:sticky;top:0;z-index:100;box-shadow:var(--shadow-sm)}
.hi{max-width:1060px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;padding:0 24px;height:60px}
.logo{display:flex;align-items:center;gap:10px;text-decoration:none;color:var(--navy);font-weight:800;font-size:17px;letter-spacing:-.3px}
.logo-sub{font-size:11px;font-weight:500;color:var(--gray);margin-left:2px}
.hnav{display:flex;align-items:center;gap:12px}
.hnav a{font-size:12px;font-weight:600;color:var(--gray);text-decoration:none;padding:6px 12px;border-radius:var(--radius-xs);transition:all .15s}
.hnav a:hover{color:var(--blue);background:var(--sky2)}
.snd-toggle{font-size:11px;padding:5px 10px;border-radius:20px;cursor:pointer;background:var(--gray5);color:var(--gray);font-weight:600;border:1px solid var(--gray4);transition:all .15s;user-select:none}
.snd-toggle.on{background:var(--sky);color:var(--blue);border-color:var(--blue3)}
.wrap{max-width:1060px;margin:0 auto;padding:28px 24px 60px}
.hero{text-align:center;padding:40px 20px 36px;background:linear-gradient(135deg,var(--navy) 0%,#1e3a5f 50%,var(--navy2) 100%);border-radius:16px;margin-bottom:24px;position:relative;overflow:hidden;box-shadow:var(--shadow-lg)}
.hero::before{content:'';position:absolute;inset:0;background:radial-gradient(ellipse at 30% 20%,rgba(37,99,235,.2) 0%,transparent 60%),radial-gradient(ellipse at 70% 80%,rgba(96,165,250,.1) 0%,transparent 50%);pointer-events:none}
.hero *{position:relative;z-index:1}
.hbadge{display:inline-block;padding:5px 14px;background:rgba(37,99,235,.2);border:1px solid rgba(96,165,250,.3);border-radius:20px;font-size:11px;font-weight:600;color:var(--blue3);margin-bottom:14px;letter-spacing:.3px}
.hero h1{font-size:26px;font-weight:800;color:var(--white);line-height:1.35;letter-spacing:-.5px}
.hero h1 .cut{background:linear-gradient(90deg,var(--blue3),#93c5fd);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.hero-sub{font-size:13px;color:var(--gray2);margin-top:10px;font-weight:500}
.card{background:var(--white);border:1px solid var(--gray4);border-radius:var(--radius);padding:24px;box-shadow:var(--shadow);margin-bottom:20px}
.ctitle{font-size:15px;font-weight:700;color:var(--navy);margin-bottom:18px;padding-bottom:12px;border-bottom:1px solid var(--gray4);display:flex;align-items:center;gap:8px}
.sinp{width:100%;padding:10px 14px;font-size:13px;border:1.5px solid var(--gray4);border-radius:var(--radius-sm);background:var(--gray6);color:var(--slate);font-family:var(--font);transition:border-color .2s,box-shadow .2s;outline:none;resize:vertical}
.sinp:focus{border-color:var(--blue2);box-shadow:0 0 0 3px rgba(37,99,235,.1);background:var(--white)}
.sinp::placeholder{color:var(--gray2);font-size:11px}
textarea.sinp{line-height:1.6;font-size:12px}
.ninp{padding:7px 12px;border:1.5px solid var(--gray4);border-radius:var(--radius-xs);background:var(--gray6);font-size:13px;font-family:var(--mono);color:var(--slate);outline:none;transition:border-color .2s}
.ninp:focus{border-color:var(--blue2);background:var(--white)}
.glabel{font-size:12px;font-weight:700;margin-bottom:5px;display:flex;align-items:center;gap:6px}
.glabel .gcnt{font-weight:400;color:var(--gray);font-size:11px}
.g1c{color:var(--blue)}.g2c{color:var(--green2)}.g3c{color:#D97706}.g4c{color:var(--violet)}
.gobtn{display:inline-flex;align-items:center;justify-content:center;gap:6px;padding:10px 20px;background:linear-gradient(135deg,var(--blue) 0%,var(--blue2) 100%);color:white;border:none;border-radius:var(--radius-sm);font-size:13px;font-weight:700;font-family:var(--font);cursor:pointer;transition:all .2s;box-shadow:0 1px 3px rgba(37,99,235,.3)}
.gobtn:hover{transform:translateY(-1px);box-shadow:0 4px 12px rgba(37,99,235,.35)}
.gobtn:active{transform:translateY(0)}
.gobtn:disabled{opacity:.45;cursor:not-allowed;transform:none;box-shadow:none}
.btn-outline{background:var(--white);color:var(--slate);border:1.5px solid var(--gray4);box-shadow:var(--shadow-sm)}
.btn-outline:hover{border-color:var(--blue2);color:var(--blue);background:var(--sky2);box-shadow:none}
.btn-sm{padding:6px 14px;font-size:11px;font-weight:600;border-radius:var(--radius-xs)}
.btn-danger{background:rgba(239,68,68,.06);color:var(--red);border:1px solid rgba(239,68,68,.2);box-shadow:none}
.btn-danger:hover{background:rgba(239,68,68,.1);box-shadow:none}
.sec{display:none}.sec.on{display:block;animation:fadeUp .3s ease}
@keyframes fadeUp{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
.wbar{display:flex;align-items:center;gap:10px;flex-wrap:wrap;padding:14px 18px;background:var(--gray6);border:1px solid var(--gray4);border-radius:var(--radius-sm);margin-bottom:12px}
.wbar-dark{background:var(--sky2);border-color:rgba(37,99,235,.12)}
.pgcard{background:var(--white);border:1px solid var(--gray4);border-radius:var(--radius);padding:24px;box-shadow:var(--shadow)}
.pgtop{display:flex;justify-content:space-between;align-items:center;margin-bottom:14px}
.pglbl{font-size:13px;font-weight:600;color:var(--slate);display:flex;align-items:center;gap:6px}
.pgct{display:flex;align-items:baseline;gap:4px}
.pgct .n{font-size:28px;font-weight:800;color:var(--blue);font-family:var(--mono)}
.pgct .s{font-size:12px;color:var(--gray);font-weight:500}
.pbar{height:8px;background:var(--gray4);border-radius:99px;overflow:hidden;margin-bottom:10px}
.pfill{height:100%;width:0;background:linear-gradient(90deg,var(--blue),var(--blue3));border-radius:99px;transition:width .4s ease}
.pnums{display:flex;justify-content:space-between;font-size:12px;color:var(--gray);font-family:var(--mono)}
.crow{display:flex;align-items:center;gap:8px;margin-top:14px;flex-wrap:wrap}
.bsm{padding:7px 16px;border:1.5px solid var(--gray4);border-radius:var(--radius-xs);background:var(--white);font-size:12px;font-weight:600;cursor:pointer;font-family:var(--font);transition:all .15s;color:var(--slate)}
.bsm:hover{border-color:var(--blue2);color:var(--blue)}
.bstop{color:var(--red);border-color:rgba(239,68,68,.25)}.bstop:hover{background:rgba(239,68,68,.04);border-color:var(--red)}
.tbadge{font-size:11px;padding:4px 12px;border-radius:20px;background:var(--sky);color:var(--blue);font-weight:600}
.bizc{margin-top:16px;padding:14px 16px;background:var(--gray6);border-radius:var(--radius-sm);display:none}
.biznm{font-size:15px;font-weight:700;color:var(--navy)}.bizsub{font-size:11px;color:var(--gray);margin-top:3px}
.btags{display:flex;flex-wrap:wrap;gap:4px;margin-top:8px}
.btag{font-size:10px;padding:3px 8px;border-radius:4px;background:var(--sky2);color:var(--blue);border:1px solid rgba(37,99,235,.1)}
.logbox{margin-top:14px;max-height:200px;overflow-y:auto;border:1px solid var(--gray4);border-radius:var(--radius-sm);background:var(--navy);padding:10px 12px}
.lrow{display:flex;align-items:center;gap:8px;padding:2px 0;font-size:11px;font-family:var(--mono);color:var(--gray2)}
.lrk{min-width:52px;font-weight:600;color:var(--gray3)}.lrk.h{color:var(--green)}
.lkw{color:var(--gray3)}.lkw.h{color:var(--white);font-weight:600}
.rhero{background:var(--white);border:1px solid var(--gray4);border-radius:var(--radius);padding:24px;margin-bottom:16px;display:flex;justify-content:space-between;align-items:center;box-shadow:var(--shadow)}
.rhl .big{font-size:42px;font-weight:800;color:var(--blue);font-family:var(--mono)}
.rhl .sub{font-size:13px;color:var(--gray);font-weight:500;margin-top:2px}
.rhs{display:flex;gap:20px}.rhsi{text-align:center}
.rhsi .v{font-size:22px;font-weight:800;color:var(--navy);font-family:var(--mono)}
.rhsi .l{font-size:11px;color:var(--gray);font-weight:500;margin-top:2px}
.tdone{display:none;justify-content:center;align-items:center;gap:8px;padding:12px;background:linear-gradient(135deg,rgba(16,185,129,.06),rgba(5,150,105,.08));border:1px solid rgba(16,185,129,.2);border-radius:var(--radius-sm);color:var(--green2);font-size:14px;font-weight:700;margin-bottom:14px}
.exbox{display:none;padding:16px 20px;background:var(--white);border:1px solid var(--gray4);border-radius:var(--radius-sm);margin-bottom:16px;justify-content:space-between;align-items:center;box-shadow:var(--shadow-sm)}
.exbox.show{display:flex}
.exinfo .sub{font-size:11px;color:var(--gray);margin-top:2px}
.exspin{display:none;font-size:11px;color:var(--gray);align-items:center;gap:4px}
.exbtn{padding:8px 18px;background:var(--green);color:white;border:none;border-radius:var(--radius-xs);font-size:12px;font-weight:700;cursor:pointer;font-family:var(--font);transition:all .15s;box-shadow:0 1px 3px rgba(16,185,129,.3)}
.exbtn:hover{background:var(--green2);transform:translateY(-1px)}
.rcard{background:var(--white);border:1px solid var(--gray4);border-radius:var(--radius);overflow:hidden;box-shadow:var(--shadow)}
.rtbar{padding:14px 20px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid var(--gray4);background:var(--gray6);flex-wrap:wrap;gap:8px}
.rtitle{font-size:14px;font-weight:700;color:var(--navy)}
.tbtns{display:flex;gap:4px;align-items:center}
.ftab{padding:5px 12px;border:1px solid var(--gray4);border-radius:20px;background:var(--white);font-size:11px;font-weight:600;color:var(--gray);cursor:pointer;font-family:var(--font);transition:all .15s}
.ftab.act{background:var(--blue);color:white;border-color:var(--blue)}
.ftab:hover:not(.act){border-color:var(--blue2);color:var(--blue)}
.cabtn{padding:5px 12px;border:1px solid var(--gray4);border-radius:20px;background:var(--white);font-size:11px;font-weight:600;color:var(--gray);cursor:pointer;font-family:var(--font);transition:all .15s}
.cabtn:hover{border-color:var(--blue2);color:var(--blue)}
.tctrl{padding:8px 20px;display:flex;align-items:center;gap:6px;border-bottom:1px solid var(--gray4);background:var(--white)}
.tctrl-label{font-size:11px;color:var(--gray);font-weight:500}
.tswitch{position:relative;width:34px;height:18px;display:inline-block}
.tswitch input{opacity:0;width:0;height:0}
.tslider{position:absolute;inset:0;background:var(--gray3);border-radius:99px;cursor:pointer;transition:.2s}
.tslider::before{content:'';position:absolute;width:14px;height:14px;left:2px;bottom:2px;background:white;border-radius:50%;transition:.2s}
.tswitch input:checked+.tslider{background:var(--blue)}
.tswitch input:checked+.tslider::before{transform:translateX(16px)}
.rchip{padding:4px 10px;border:1px solid var(--gray4);border-radius:4px;font-size:10px;font-weight:600;color:var(--gray);cursor:pointer;background:var(--white);font-family:var(--mono);transition:all .15s}
.rchip.act{background:var(--navy);color:white;border-color:var(--navy)}
.ktbl{width:100%;border-collapse:collapse}
.ktbl th{padding:10px 16px;text-align:left;font-size:11px;font-weight:600;color:var(--gray);background:var(--gray6);text-transform:uppercase;letter-spacing:.5px;border-bottom:1px solid var(--gray4)}
.ktbl td{padding:8px 16px;border-bottom:1px solid var(--gray4);font-size:12px;color:var(--slate)}
.ktbl tr:hover td{background:var(--sky2)}
.rnb{display:inline-flex;align-items:center;justify-content:center;width:28px;height:28px;border-radius:6px;font-size:12px;font-weight:700;font-family:var(--mono);background:var(--gray5);color:var(--gray)}
.rnb.r1{background:linear-gradient(135deg,#FCD34D,#F59E0B);color:#78350F}
.rnb.r2{background:var(--gray3);color:var(--navy2)}
.rnb.r3{background:#FDBA74;color:#7C2D12}
.rnb.r4{background:var(--sky);color:var(--blue)}
.rnb.r5{background:var(--gray4);color:var(--slate)}
.kworig{font-weight:500}
.kwtag{display:inline-block;padding:2px 7px;border-radius:4px;font-size:9px;font-weight:700;margin-left:6px;letter-spacing:.3px}
.kwtag.new{background:var(--sky);color:var(--blue)}
.kwtag.old{background:rgba(16,185,129,.1);color:var(--green2)}
.cpbtn{padding:4px 10px;border:1px solid var(--gray4);border-radius:4px;background:var(--white);font-size:10px;font-weight:600;color:var(--gray);cursor:pointer;font-family:var(--font);transition:all .15s}
.cpbtn:hover{border-color:var(--blue2);color:var(--blue)}
.empty{display:none;text-align:center;padding:40px 20px;font-size:14px;color:var(--gray)}
.errbox{display:none;padding:10px 14px;margin-top:10px;background:rgba(239,68,68,.05);border:1px solid rgba(239,68,68,.15);border-radius:var(--radius-xs);color:var(--red);font-size:12px;font-weight:600}
.shint{font-size:11px;color:var(--gray);margin-top:8px;text-align:center}
.toast{position:fixed;bottom:-60px;left:50%;transform:translateX(-50%);padding:10px 24px;border-radius:var(--radius-sm);background:var(--navy);color:white;font-size:13px;font-weight:600;z-index:9999;transition:bottom .3s ease;box-shadow:0 8px 30px rgba(15,23,42,.25)}
.toast.show{bottom:28px}
.spin{display:inline-block;animation:spinR 1s linear infinite}
@keyframes spinR{to{transform:rotate(360deg)}}
.faq{margin-top:28px;padding:24px;background:var(--white);border:1px solid var(--gray4);border-radius:var(--radius);box-shadow:var(--shadow-sm)}
.faqt{font-size:15px;font-weight:700;color:var(--navy);margin-bottom:16px}
.faqq{font-size:13px;font-weight:700;color:var(--navy);margin-bottom:4px}
.faqa{font-size:12px;color:var(--gray);line-height:1.6}
.about{margin-bottom:20px;padding:24px;background:var(--white);border:1px solid var(--gray4);border-radius:var(--radius);box-shadow:var(--shadow-sm)}
.about-title{font-size:15px;font-weight:800;color:var(--navy);margin-bottom:14px;display:flex;align-items:center;gap:8px}
.about-desc{font-size:13px;color:var(--slate);line-height:1.8;margin-bottom:16px}
.about-desc b{color:var(--blue);font-weight:700}
.about-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.about-card{padding:14px;border-radius:10px;background:var(--gray6);border:1px solid var(--gray4)}
.about-card-icon{font-size:20px;margin-bottom:6px}
.about-card-tit{font-size:12px;font-weight:700;color:var(--navy);margin-bottom:4px}
.about-card-sub{font-size:11px;color:var(--gray);line-height:1.5}
.about-highlight{margin-top:14px;padding:14px 16px;border-radius:10px;background:linear-gradient(135deg,rgba(37,99,235,.06),rgba(5,150,105,.06));border:1px solid rgba(37,99,235,.1);font-size:12px;color:var(--slate);line-height:1.7}
.about-highlight b{color:var(--navy)}
.modal-overlay{position:fixed;inset:0;z-index:1000;background:rgba(15,23,42,.5);backdrop-filter:blur(4px);display:none;justify-content:center;align-items:center}
.modal-overlay.open{display:flex}
.modal-box{background:var(--white);border-radius:16px;padding:32px;max-width:520px;width:90%;max-height:85vh;overflow-y:auto;box-shadow:0 20px 60px rgba(15,23,42,.2);position:relative}
.modal-close{position:absolute;top:16px;right:16px;width:32px;height:32px;border-radius:8px;background:var(--gray5);border:none;cursor:pointer;font-size:16px;color:var(--gray);display:flex;align-items:center;justify-content:center;transition:all .15s}
.modal-close:hover{background:var(--gray4);color:var(--navy)}
.modal-title{font-size:18px;font-weight:800;color:var(--navy);margin-bottom:20px}
.modal-step{display:flex;gap:14px;align-items:flex-start;padding:12px 0;border-bottom:1px solid var(--gray4)}
.modal-step:last-child{border-bottom:none}
.modal-num{min-width:28px;height:28px;border-radius:8px;background:var(--blue);color:white;display:flex;align-items:center;justify-content:center;font-size:13px;font-weight:800}
.modal-step-text{font-size:13px;color:var(--slate);line-height:1.6}
.modal-step-text b{color:var(--navy);font-weight:700}
@media(max-width:640px){.hi{padding:0 16px}.wrap{padding:16px 12px 40px}.hero{padding:28px 16px}.hero h1{font-size:20px}.card{padding:16px}.rhero{flex-direction:column;gap:16px;text-align:center}.rhs{justify-content:center}}
/* â•â•â• Mode Tabs â•â•â• */
.mode-tabs{display:flex;gap:0;margin-bottom:20px;border-radius:var(--radius);overflow:hidden;border:2px solid var(--gray4);background:var(--gray6)}
.mode-tab{flex:1;padding:14px 20px;font-size:14px;font-weight:700;font-family:var(--font);color:var(--gray);background:transparent;border:none;cursor:pointer;transition:all .2s;text-align:center;position:relative}
.mode-tab:first-child{border-right:1px solid var(--gray4)}
.mode-tab.active{background:var(--white);color:var(--blue);box-shadow:var(--shadow)}
.mode-tab:hover:not(.active){color:var(--slate);background:rgba(255,255,255,.5)}
.mode-tab .mdesc{font-size:10px;font-weight:500;color:var(--gray2);margin-top:3px;display:block}
.mode-tab.active .mdesc{color:var(--blue3)}
/* â•â•â• Queue Table â•â•â• */
.qtbl{width:100%;border-collapse:collapse;margin-top:12px}
.qtbl th{padding:8px 12px;text-align:left;font-size:11px;font-weight:600;color:var(--gray);background:var(--gray6);border-bottom:1px solid var(--gray4)}
.qtbl td{padding:8px 12px;border-bottom:1px solid var(--gray4);font-size:12px;color:var(--slate)}
.qtbl tr:hover td{background:var(--sky2)}
.qdel{padding:3px 8px;border:1px solid rgba(239,68,68,.2);border-radius:4px;background:transparent;color:var(--red);font-size:10px;cursor:pointer;font-family:var(--font);font-weight:600}
.qdel:hover{background:rgba(239,68,68,.06)}
/* â•â•â• Batch Progress â•â•â• */
.batch-bar{padding:16px 20px;background:linear-gradient(135deg,var(--navy),#1e3a5f);border-radius:var(--radius);margin-bottom:16px;color:white;display:none}
.batch-bar.on{display:block;animation:fadeUp .3s ease}
.batch-title{font-size:15px;font-weight:700;margin-bottom:8px}
.batch-sub{font-size:12px;color:var(--gray2);display:flex;align-items:center;gap:8px}
.batch-pbar{height:6px;background:rgba(255,255,255,.15);border-radius:99px;overflow:hidden;margin-top:10px}
.batch-pfill{height:100%;width:0;background:linear-gradient(90deg,#60A5FA,#3B82F6);border-radius:99px;transition:width .4s ease}
.batch-results{margin-top:12px;max-height:200px;overflow-y:auto}
.batch-ritem{display:flex;justify-content:space-between;align-items:center;padding:8px 12px;background:rgba(255,255,255,.06);border-radius:6px;margin-bottom:4px;font-size:12px}
.batch-ritem .biz{font-weight:600;color:white}.batch-ritem .cnt{color:var(--blue3);font-family:var(--mono)}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   DARK MODE â€” Premium Redesign
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
[data-theme="dark"]{
  --navy:#E0E4EA;--navy2:#C0C8D4;--slate:#B8BFC9;--gray:#7A8599;--gray2:#5A6370;--gray3:#404858;
  --gray4:rgba(255,255,255,.08);--gray5:#0F0F1A;--gray6:#151520;
  --white:#1C1C2E;--sky2:rgba(37,99,235,.06);--sky:rgba(37,99,235,.12);
  --green2:#34D399;--red:#F87171;--amber:#FBBF24;
  --shadow-sm:0 1px 3px rgba(0,0,0,.3);--shadow:0 2px 6px rgba(0,0,0,.25);
  --shadow-md:0 4px 10px rgba(0,0,0,.3);--shadow-lg:0 10px 20px rgba(0,0,0,.3);
}
/* body & header */
[data-theme="dark"] body{background:#0C0C18;color:#C8CDD5}
[data-theme="dark"] .hdr{background:#141422;border-color:rgba(255,255,255,.05);box-shadow:0 1px 4px rgba(0,0,0,.4)}
[data-theme="dark"] .logo{color:#E8ECF1}
[data-theme="dark"] .logo-sub{color:#6B7280}
[data-theme="dark"] .hnav a{color:#8B93A0}
[data-theme="dark"] .hnav a:hover{background:rgba(96,165,250,.08);color:#93BBFD}
[data-theme="dark"] .snd-toggle{background:#1A1A2C;border-color:rgba(255,255,255,.08);color:#6B7280}
[data-theme="dark"] .snd-toggle.on{background:rgba(37,99,235,.12);color:#60A5FA;border-color:rgba(96,165,250,.25)}
[data-theme="dark"] #userBadge{background:rgba(37,99,235,.12)!important;color:#60A5FA!important}
[data-theme="dark"] #logoutBtn{color:#F87171!important}

/* hero â€” ê·¸ë¼ë””ì–¸íŠ¸ ìœ ì§€í•˜ë©´ì„œ ë‹¤í¬ëª¨ë“œ ê°•í™” */
[data-theme="dark"] .hero{background:linear-gradient(135deg,#0D1B3E 0%,#162550 50%,#0E1A35 100%);border:1px solid rgba(96,165,250,.08)}
[data-theme="dark"] .hero::before{background:radial-gradient(ellipse at 30% 20%,rgba(37,99,235,.15) 0%,transparent 60%),radial-gradient(ellipse at 70% 80%,rgba(96,165,250,.08) 0%,transparent 50%)}
[data-theme="dark"] .hbadge{background:rgba(37,99,235,.2);border-color:rgba(96,165,250,.2);color:#93BBFD}
[data-theme="dark"] .hero h1{color:#F0F4F8}
[data-theme="dark"] .hero-sub{color:#7A8599}

/* ì¹´ë“œ ê³„ì—´ ì „ì²´ */
[data-theme="dark"] .card,
[data-theme="dark"] .pgcard,
[data-theme="dark"] .rcard,
[data-theme="dark"] .rhero,
[data-theme="dark"] .faq,
[data-theme="dark"] .about,
[data-theme="dark"] .exbox{background:#1C1C2E;border-color:rgba(255,255,255,.06)}
[data-theme="dark"] .ctitle{color:#E0E4EA;border-color:rgba(255,255,255,.06)}

/* ì…ë ¥ í•„ë“œ */
[data-theme="dark"] .sinp,[data-theme="dark"] .ninp{background:#141422;border-color:rgba(255,255,255,.08);color:#D4D9E1}
[data-theme="dark"] .sinp:focus,[data-theme="dark"] .ninp:focus{background:#1A1A2C;border-color:var(--blue2);box-shadow:0 0 0 3px rgba(37,99,235,.12)}
[data-theme="dark"] .sinp::placeholder,[data-theme="dark"] .ninp::placeholder{color:#4A5060}

/* í…ìŠ¤íŠ¸ ì»¬ëŸ¬ */
[data-theme="dark"] .glabel{color:#C0C6D0}
[data-theme="dark"] .biznm{color:#E0E4EA}
[data-theme="dark"] .bizsub{color:#6B7280}
[data-theme="dark"] .pglbl{color:#A0A8B4}
[data-theme="dark"] .pgct .n{color:#60A5FA}
[data-theme="dark"] .pgct .s{color:#6B7280}
[data-theme="dark"] .pnums{color:#5A6370}
[data-theme="dark"] .rhl .big{color:#60A5FA}
[data-theme="dark"] .rhl .sub{color:#6B7280}
[data-theme="dark"] .rhsi .v{color:#E0E4EA}
[data-theme="dark"] .rhsi .l{color:#6B7280}
[data-theme="dark"] .rtitle{color:#E0E4EA}

/* í”„ë¡œê·¸ë ˆìŠ¤ ë°” */
[data-theme="dark"] .pbar{background:rgba(255,255,255,.06)}

/* í…Œì´ë¸” */
[data-theme="dark"] .ktbl th,[data-theme="dark"] .qtbl th{background:#141422;color:#7A8599;border-color:rgba(255,255,255,.04)}
[data-theme="dark"] .ktbl td,[data-theme="dark"] .qtbl td{color:#B8BFC9;border-color:rgba(255,255,255,.04)}
[data-theme="dark"] .ktbl tr:hover td,[data-theme="dark"] .qtbl tr:hover td{background:rgba(37,99,235,.05)}
[data-theme="dark"] .rtbar{background:#141422;border-color:rgba(255,255,255,.04)}
[data-theme="dark"] .tctrl{background:#1C1C2E;border-color:rgba(255,255,255,.04)}

/* ë²„íŠ¼Â·ì¹© */
[data-theme="dark"] .bsm,[data-theme="dark"] .cpbtn{background:#1A1A2C;border-color:rgba(255,255,255,.08);color:#8B93A0}
[data-theme="dark"] .bsm:hover,[data-theme="dark"] .cpbtn:hover{border-color:rgba(96,165,250,.3);color:#93BBFD;background:rgba(37,99,235,.06)}
[data-theme="dark"] .ftab,[data-theme="dark"] .cabtn{background:#1A1A2C;border-color:rgba(255,255,255,.08);color:#8B93A0}
[data-theme="dark"] .ftab:hover:not(.act),[data-theme="dark"] .cabtn:hover{border-color:rgba(96,165,250,.3);color:#93BBFD}
[data-theme="dark"] .ftab.act{background:var(--blue);color:white;border-color:var(--blue)}
[data-theme="dark"] .rchip{background:#1A1A2C;border-color:rgba(255,255,255,.08);color:#8B93A0}
[data-theme="dark"] .rchip.act{background:var(--blue);color:white;border-color:var(--blue)}
[data-theme="dark"] .btn-outline{background:#1A1A2C;color:#B8BFC9;border-color:rgba(255,255,255,.08)}
[data-theme="dark"] .btn-outline:hover{border-color:rgba(96,165,250,.3);color:#93BBFD;background:rgba(37,99,235,.06)}
[data-theme="dark"] .gobtn{box-shadow:0 2px 8px rgba(37,99,235,.4)}
[data-theme="dark"] .btn-danger{background:rgba(239,68,68,.08);border-color:rgba(239,68,68,.15)}
[data-theme="dark"] .bstop{border-color:rgba(239,68,68,.2)}
[data-theme="dark"] .exbtn{box-shadow:0 2px 8px rgba(16,185,129,.3)}
[data-theme="dark"] .qdel{border-color:rgba(239,68,68,.15);color:#F87171}

/* ëª¨ë“œ íƒ­ */
[data-theme="dark"] .mode-tabs{background:#141422;border-color:rgba(255,255,255,.06)}
[data-theme="dark"] .mode-tab{color:#6B7280}
[data-theme="dark"] .mode-tab:first-child{border-color:rgba(255,255,255,.06)}
[data-theme="dark"] .mode-tab.active{background:#1C1C2E;color:#60A5FA;box-shadow:none}
[data-theme="dark"] .mode-tab:hover:not(.active){color:#A0A8B4;background:rgba(255,255,255,.02)}
[data-theme="dark"] .mode-tab .mdesc{color:#4A5060}
[data-theme="dark"] .mode-tab.active .mdesc{color:rgba(96,165,250,.6)}

/* ê¸°íƒ€ ë°°ê²½ ì˜ì—­ */
[data-theme="dark"] .wbar{background:#141422;border-color:rgba(255,255,255,.05)}
[data-theme="dark"] .wbar-dark{background:rgba(37,99,235,.06);border-color:rgba(37,99,235,.1)}
[data-theme="dark"] .bizc{background:#141422}
[data-theme="dark"] .btag{background:rgba(37,99,235,.1);color:#60A5FA;border-color:rgba(37,99,235,.15)}
[data-theme="dark"] .tbadge{background:rgba(37,99,235,.12);color:#60A5FA}
[data-theme="dark"] .errbox{background:rgba(239,68,68,.06);border-color:rgba(239,68,68,.12);color:#F87171}
[data-theme="dark"] .shint{color:#4A5060}
[data-theme="dark"] .kworig{color:#D0D5DD}
[data-theme="dark"] .kwtag.new{background:rgba(37,99,235,.12);color:#60A5FA}
[data-theme="dark"] .kwtag.old{background:rgba(16,185,129,.1);color:#34D399}

/* ë°°ì¹˜ ë°” */
[data-theme="dark"] .batch-bar{background:linear-gradient(135deg,#0D1B3E,#162550)}
[data-theme="dark"] .batch-pbar{background:rgba(255,255,255,.08)}
[data-theme="dark"] .batch-ritem{background:rgba(255,255,255,.04)}

/* ë¡œê·¸ ë°•ìŠ¤ (ì´ë¯¸ ì–´ë‘ì›€ ìœ ì§€) */
[data-theme="dark"] .logbox{background:#0C0C18;border-color:rgba(255,255,255,.04)}

/* about ì„¹ì…˜ */
[data-theme="dark"] .about-title{color:#E0E4EA}
[data-theme="dark"] .about-desc{color:#A0A8B4}
[data-theme="dark"] .about-desc b{color:#60A5FA}
[data-theme="dark"] .about-card{background:#141422;border-color:rgba(255,255,255,.05)}
[data-theme="dark"] .about-card-tit{color:#D0D5DD}
[data-theme="dark"] .about-card-sub{color:#7A8599}
[data-theme="dark"] .about-highlight{background:rgba(37,99,235,.06);border-color:rgba(37,99,235,.1)}
[data-theme="dark"] .about-highlight b{color:#93BBFD}

/* â˜… FAQ ì„¹ì…˜ â€” ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ ì˜¤ë²„ë¼ì´ë“œ â˜… */
[data-theme="dark"] .faqt{color:#E0E4EA!important}
[data-theme="dark"] .faq table td{color:#B8BFC9}
[data-theme="dark"] .faq table td[style*="sky2"],[data-theme="dark"] .faq table td[style*="EFF6FF"]{background:rgba(37,99,235,.06)!important}
[data-theme="dark"] .faq table td[style*="gray6"],[data-theme="dark"] .faq table td[style*="FAFC"]{background:rgba(255,255,255,.03)!important}
[data-theme="dark"] .faq table div[style*="color:var(--navy)"]{color:#D0D5DD!important}
[data-theme="dark"] .faq table b[style*="color:var(--navy)"]{color:#C0C8D4!important}
[data-theme="dark"] .faq table b[style*="color:var(--blue)"]{color:#60A5FA!important}
[data-theme="dark"] .faq table b[style*="color:var(--green2)"]{color:#34D399!important}
[data-theme="dark"] .faq table b[style*="rgba(37,99,235"]{background:rgba(96,165,250,.1)!important}

/* ëª¨ë‹¬ */
[data-theme="dark"] .modal-overlay{background:rgba(0,0,0,.6)}
[data-theme="dark"] .modal-box{background:#1C1C2E;border:1px solid rgba(255,255,255,.06)}
[data-theme="dark"] .modal-title{color:#E0E4EA}
[data-theme="dark"] .modal-close{background:#141422;color:#7A8599}
[data-theme="dark"] .modal-close:hover{background:#252540;color:#C0C8D4}
[data-theme="dark"] .modal-step{border-color:rgba(255,255,255,.04)}
[data-theme="dark"] .modal-step-text{color:#B8C2D0}
[data-theme="dark"] .modal-step-text b{color:#E0E4EA}
[data-theme="dark"] .modal-step-text b[style*="color:var(--blue)"]{color:#60A5FA!important}
[data-theme="dark"] .modal-step-text b[style*="color:var(--navy)"]{color:#D0D8E4!important}
[data-theme="dark"] .modal-step-text b[style*="color:#EF4444"]{color:#F87171!important}
[data-theme="dark"] .modal-step-text b[style*="color:var(--green2)"]{color:#34D399!important}

/* í† ìŠ¤íŠ¸ */
[data-theme="dark"] .toast{background:#2563EB;box-shadow:0 8px 24px rgba(37,99,235,.3)}

/* ì™„ë£Œ ë°°ë„ˆ */
[data-theme="dark"] .tdone{background:rgba(16,185,129,.06);border-color:rgba(16,185,129,.15);color:#34D399}

/* ë­í¬ ë„˜ë²„ ë±ƒì§€ */
[data-theme="dark"] .rnb{background:rgba(255,255,255,.06);color:#6B7280}
[data-theme="dark"] .rnb.r1{background:linear-gradient(135deg,#B8860B,#DAA520);color:#FFF8E1}
[data-theme="dark"] .rnb.r4{background:rgba(37,99,235,.12);color:#60A5FA}
[data-theme="dark"] .rnb.r5{background:rgba(255,255,255,.06);color:#8B93A0}

/* ìŠ¤í¬ë¡¤ë°” */
[data-theme="dark"] ::-webkit-scrollbar{width:6px;height:6px}
[data-theme="dark"] ::-webkit-scrollbar-track{background:transparent}
[data-theme="dark"] ::-webkit-scrollbar-thumb{background:rgba(255,255,255,.1);border-radius:3px}
[data-theme="dark"] ::-webkit-scrollbar-thumb:hover{background:rgba(255,255,255,.18)}

/* â”€â”€ ë‹¤í¬ëª¨ë“œ í† ê¸€ ë²„íŠ¼ â”€â”€ */
.theme-toggle{position:fixed;bottom:24px;right:24px;width:48px;height:48px;border-radius:50%;border:1px solid var(--gray4);background:var(--white);color:var(--navy);display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:22px;box-shadow:0 4px 12px rgba(0,0,0,.1);transition:all .3s;z-index:998}
.theme-toggle:hover{transform:scale(1.1);box-shadow:0 6px 20px rgba(0,0,0,.15)}
[data-theme="dark"] .theme-toggle{background:#1C1C2E;color:#E0E4EA;border-color:rgba(255,255,255,.08);box-shadow:0 4px 16px rgba(0,0,0,.3)}
</style>
</head>
<body>
<header class="hdr">
  <div class="hi">
    <a class="logo" href="#">
      <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
        <!-- í´ë¦½ë³´ë“œ ë³¸ì²´ -->
        <rect x="4" y="5" width="24" height="25" rx="4" fill="#2563EB"/>
        <!-- í´ë¦½ -->
        <rect x="10" y="2" width="12" height="6" rx="3" fill="#1D4ED8" stroke="#2563EB" stroke-width="1"/>
        <rect x="12" y="3" width="8" height="4" rx="2" fill="#93C5FD"/>
        <!-- í…ìŠ¤íŠ¸ ë¼ì¸ (í‚¤ì›Œë“œ ë¦¬ìŠ¤íŠ¸) -->
        <rect x="8" y="12" width="10" height="2.5" rx="1.2" fill="#DBEAFE"/>
        <rect x="8" y="17" width="12" height="2.5" rx="1.2" fill="#BFDBFE"/>
        <rect x="8" y="22" width="8" height="2.5" rx="1.2" fill="#DBEAFE"/>
        <!-- ì²´í¬ë§ˆí¬ ì› -->
        <circle cx="23" cy="23" r="6" fill="#10B981"/>
        <path d="M20 23L22 25L26 21" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      ì´ì§€ë³´ë“œ <span class="logo-sub">EasyBoard</span>
    </a>
    <nav class="hnav">
      <div class="snd-toggle on" id="sndToggle" onclick="toggleSound()">ğŸ”” ì•Œë¦¼ìŒ</div>
      <a href="#" onclick="showHelp();return false;">ì‚¬ìš© ê°€ì´ë“œ</a>
      <span id="userBadge" style="font-size:12px;font-weight:600;color:var(--blue);background:var(--sky);padding:4px 10px;border-radius:var(--radius-xs);display:none">ğŸ‘¤</span>
      <a href="#" id="logoutBtn" onclick="doLogout();return false;" style="color:var(--red);display:none">ë¡œê·¸ì•„ì›ƒ</a>
    </nav>
  </div>
</header>
<main class="wrap">
  <div class="hero">
    <svg width="48" height="48" viewBox="0 0 32 32" fill="none" style="margin-bottom:14px">
      <rect x="4" y="5" width="24" height="25" rx="4" fill="rgba(255,255,255,.15)"/>
      <rect x="10" y="2" width="12" height="6" rx="3" fill="rgba(255,255,255,.1)" stroke="rgba(255,255,255,.2)" stroke-width="1"/>
      <rect x="12" y="3" width="8" height="4" rx="2" fill="rgba(255,255,255,.3)"/>
      <rect x="8" y="12" width="10" height="2.5" rx="1.2" fill="rgba(255,255,255,.25)"/>
      <rect x="8" y="17" width="12" height="2.5" rx="1.2" fill="rgba(255,255,255,.35)"/>
      <rect x="8" y="22" width="8" height="2.5" rx="1.2" fill="rgba(255,255,255,.25)"/>
      <circle cx="23" cy="23" r="6" fill="rgba(16,185,129,.9)"/>
      <path d="M20 23L22 25L26 21" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    <div class="hbadge">í”Œë ˆì´ìŠ¤ ìƒìœ„ë…¸ì¶œ(Top 5) í‚¤ì›Œë“œ ì •ë°€ ì¶”ì¶œê¸°</div>
    <h1>í”Œë ˆì´ìŠ¤ ìƒìœ„ í‚¤ì›Œë“œë¥¼<br><span class="cut">ì •ë°€í•˜ê²Œ ì¶”ì¶œ</span>í•˜ì„¸ìš”</h1>
    <div class="hero-sub">ë§¤ì¼Â·ë§¤ì£¼ ìƒˆë¡œìš´ í‚¤ì›Œë“œë¡œ êµì²´í•˜ì—¬ ìì—°ìŠ¤ëŸ¬ìš´ ìœ ì…ì„ ë§Œë“œëŠ” ì˜¬ì¸ì› ì†”ë£¨ì…˜</div>
  </div>

  <!-- â•â•â• ì„œë¹„ìŠ¤ ì†Œê°œ â•â•â• -->
  <div class="about">
    <div class="about-title">ğŸ“Œ ì´ì§€ë³´ë“œëŠ” ì´ëŸ° í”„ë¡œê·¸ë¨ì´ì—ìš”</div>
    <div class="about-desc">
      ê°™ì€ í‚¤ì›Œë“œë¡œ ë¦¬ì›Œë“œë¥¼ ê³„ì† ì ‘ìˆ˜í•˜ë©´, ë„¤ì´ë²„ëŠ” ì´ë¥¼ <b>ë¹„ì •ìƒ íŠ¸ë˜í”½(ì‘ì—…)</b>ìœ¼ë¡œ íŒë‹¨í•˜ì—¬ ìˆœìœ„ ì ìˆ˜ì— ì—­íš¨ê³¼ë¥¼ ì¤ë‹ˆë‹¤.<br><br>
      ì´ì§€ë³´ë“œëŠ” í•´ë‹¹ ì—…ì¥ì´ <b>í”Œë ˆì´ìŠ¤ 5ìœ„ ì´ë‚´ì— ë…¸ì¶œë˜ëŠ” í‚¤ì›Œë“œë¥¼ ìµœëŒ€í•œ ë§ì´ ë°œêµ´</b>í•˜ì—¬, ìœ ì… ê²½ë¡œë¥¼ ë‹¤ì–‘í•˜ê²Œ ë¶„ì‚°ì‹œí‚µë‹ˆë‹¤.
      ë§¤ì¼Â·ë§¤ì£¼ ìƒˆë¡œìš´ í‚¤ì›Œë“œë¡œ êµì²´í•˜ë©´ ë„¤ì´ë²„ê°€ <b>ìì—°ìŠ¤ëŸ¬ìš´ ê²€ìƒ‰ ìœ ì…</b>ìœ¼ë¡œ ì¸ì‹í•˜ì—¬ í”Œë ˆì´ìŠ¤ ìˆœìœ„ ìƒìŠ¹ì— ì¢‹ì€ ì ìˆ˜ê°€ ë°˜ì˜ë©ë‹ˆë‹¤.
    </div>
    <div class="about-grid" style="grid-template-columns:repeat(3,1fr)">
      <div class="about-card">
        <div class="about-card-icon">ğŸš¨</div>
        <div class="about-card-tit">ì´ê²Œ ë¬¸ì œì…ë‹ˆë‹¤</div>
        <div class="about-card-sub">í•˜ë‚˜ì˜ í‚¤ì›Œë“œë¡œ ìˆ˜ë°± ê±´ ìœ ì…ì´ ëª°ë¦¬ë©´ ë„¤ì´ë²„ê°€ ì‘ì—…ìœ¼ë¡œ íŒë‹¨í•©ë‹ˆë‹¤. ë™ì¼ í‚¤ì›Œë“œ ë°˜ë³µ ì ‘ìˆ˜ëŠ” ìˆœìœ„ ì ìˆ˜ì— ì—­íš¨ê³¼ë¥¼ ì¤„ ìˆ˜ ìˆì–´ìš”.</div>
      </div>
      <div class="about-card">
        <div class="about-card-icon">ğŸ¯</div>
        <div class="about-card-tit">ì´ì§€ë³´ë“œì˜ í•´ê²°</div>
        <div class="about-card-sub">URL í•˜ë‚˜ë§Œ ì…ë ¥í•˜ë©´ ìˆ˜ì²œ ê°œì˜ í‚¤ì›Œë“œ ì¡°í•©ì„ ìë™ ìƒì„±í•˜ê³ , 15ê°œ íƒ­ì´ ë™ì‹œì— ìˆœìœ„ë¥¼ ê²€ì¦í•˜ì—¬ 5ìœ„ ì´ë‚´ í‚¤ì›Œë“œë§Œ ì—‘ì…€ë¡œ ì •ë¦¬í•©ë‹ˆë‹¤.</div>
      </div>
      <div class="about-card">
        <div class="about-card-icon">ğŸ“Š</div>
        <div class="about-card-tit">í‚¤ì›Œë“œ ë¶„ì‚° íš¨ê³¼</div>
        <div class="about-card-sub">ìˆ˜ë°± ê°œì˜ ì„œë¡œ ë‹¤ë¥¸ í‚¤ì›Œë“œë¡œ ìœ ì…ì„ ë¶„ì‚°í•˜ë©´, ë„¤ì´ë²„ê°€ ìì—° ê²€ìƒ‰ ìœ ì…ìœ¼ë¡œ ì¸ì‹ â†’ ìˆœìœ„ ì ìˆ˜ì— ê¸ì •ì  ë°˜ì˜ë©ë‹ˆë‹¤.</div>
      </div>
      <div class="about-card">
        <div class="about-card-icon">ğŸ”„</div>
        <div class="about-card-tit">ë§¤ì£¼ ì‹ ì„ í•œ í‚¤ì›Œë“œ</div>
        <div class="about-card-sub">ë¸”ë™ë¦¬ìŠ¤íŠ¸ ê¸°ëŠ¥ìœ¼ë¡œ ì´ë¯¸ ì‚¬ìš©í•œ í‚¤ì›Œë“œë¥¼ ìë™ ì œì™¸í•˜ê³  ìƒˆ í‚¤ì›Œë“œë§Œ ì¶”ì¶œ. ë§¤ë²ˆ ì‹ ì„ í•œ í‚¤ì›Œë“œë¡œ êµì²´í•  ìˆ˜ ìˆì–´ìš”.</div>
      </div>
      <div class="about-card">
        <div class="about-card-icon">ğŸ‘¥</div>
        <div class="about-card-tit">ì´ëŸ° ë¶„ë“¤ì„ ìœ„í•´</div>
        <div class="about-card-sub">ë§ˆì¼€íŒ… ëŒ€í–‰ì‚¬ Â· ë¦¬ì›Œë“œ ì‹¤í–‰ì‚¬ Â· ëŒ€í‘œë‹˜ Â· ì—…ì¥ ì‚¬ì¥ë‹˜ Â· SEO ë§ˆì¼€í„° Â· í”„ë¦¬ëœì„œê¹Œì§€, í‚¤ì›Œë“œ ì¶”ì¶œì´ í•„ìš”í•œ ëª¨ë“  ë¶„.</div>
      </div>
      <div class="about-card">
        <div class="about-card-icon">ğŸ’°</div>
        <div class="about-card-tit">ì™„ì „ ë¬´ë£Œ</div>
        <div class="about-card-sub">ê¸°ëŠ¥ ì œí•œ ì—†ìŒ, ì¶”ì¶œ íšŸìˆ˜ ì œí•œ ì—†ìŒ, ìˆ¨ê²¨ì§„ ê²°ì œ ì—†ìŒ. íšŒì›ê°€ì…ë§Œ í•˜ë©´ ëª¨ë“  ê¸°ëŠ¥ì„ ë¬´ì œí•œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div>
      </div>
    </div>
    <div class="about-highlight">
      ğŸ’¡ <b>í•œì¤„ ìš”ì•½</b> â€” ê°™ì€ í‚¤ì›Œë“œ ë°˜ë³µ ì ‘ìˆ˜ëŠ” ì—­íš¨ê³¼! ì´ì§€ë³´ë“œë¡œ ìˆ˜ë°± ê°œì˜ ìƒˆë¡œìš´ 5ìœ„ ì´ë‚´ í‚¤ì›Œë“œë¥¼ ë°œêµ´í•˜ì—¬ ìì—°ìŠ¤ëŸ¬ìš´ ìœ ì…ì„ ë§Œë“œì„¸ìš”.
    </div>
  </div>
  <!-- â•â•â• Main Panel â•â•â• -->
  <div id="manualPanel">
  <div class="card">
    <div class="ctitle">
      <svg width="18" height="18" viewBox="0 0 18 18" fill="none"><circle cx="7.5" cy="7.5" r="5.5" stroke="#2563EB" stroke-width="2"/><path d="M12 12L16 16" stroke="#2563EB" stroke-width="2" stroke-linecap="round"/></svg>
      í‚¤ì›Œë“œ ê·¸ë£¹ ì¡°í•© ì—”ì§„
    </div>
    <div style="margin-bottom:14px">
      <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:6px">
        <span style="font-size:12px;font-weight:600;color:var(--slate)">í”Œë ˆì´ìŠ¤ URL</span>
        <button class="gobtn btn-sm btn-outline" id="suggestBtn" onclick="suggestWords()">âœ¦ ì¶”ì²œ ë‹¨ì–´ ë¶ˆëŸ¬ì˜¤ê¸°</button>
      </div>
      <input class="sinp" id="urlInput" placeholder="https://m.place.naver.com/place/1234567890">
    </div>
    <div id="bizInfoBar" style="display:none;padding:10px 14px;background:var(--sky2);border:1px solid rgba(37,99,235,.1);border-radius:var(--radius-sm);margin-bottom:14px;font-size:12px;color:var(--blue);font-weight:600"></div>
    <div style="display:flex;flex-direction:column;gap:10px;margin-bottom:14px">
      <div><div class="glabel g1c"><svg width="14" height="14" viewBox="0 0 14 14" fill="none"><circle cx="7" cy="7" r="3" fill="#2563EB" opacity=".2"/><circle cx="7" cy="7" r="1.5" fill="#2563EB"/></svg>ê·¸ë£¹1 â€” ì§€ì—­/ìœ„ì¹˜ <span class="gcnt" id="g1cnt">(0)</span></div><textarea class="sinp" id="g1" rows="5" placeholder="í‚¤ì›Œë“œë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”&#10;-ì˜ˆì‹œ-&#10;í™ëŒ€&#10;ë§ˆí¬êµ¬&#10;ì—°ë‚¨ë™" oninput="updateGroupCounts()"></textarea></div>
      <div><div class="glabel g2c"><svg width="14" height="14" viewBox="0 0 14 14" fill="none"><path d="M7 2L12 7L7 12L2 7Z" fill="#059669" opacity=".2"/><circle cx="7" cy="7" r="1.5" fill="#059669"/></svg>ê·¸ë£¹2 â€” ê·¼ì ‘/ìˆ˜ì‹ <span class="gcnt" id="g2cnt">(0)</span></div><textarea class="sinp" id="g2" rows="4" placeholder="í‚¤ì›Œë“œë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”&#10;-ì˜ˆì‹œ-&#10;ê·¼ì²˜&#10;ì¸ê·¼&#10;ì£¼ë³€" oninput="updateGroupCounts()"></textarea></div>
      <div><div class="glabel g3c"><svg width="14" height="14" viewBox="0 0 14 14" fill="none"><rect x="3" y="3" width="8" height="8" rx="2" fill="#D97706" opacity=".2"/><circle cx="7" cy="7" r="1.5" fill="#D97706"/></svg>ê·¸ë£¹3 â€” ë©”ë‰´/ì„œë¹„ìŠ¤ <span class="gcnt" id="g3cnt">(0)</span></div><textarea class="sinp" id="g3" rows="5" placeholder="í‚¤ì›Œë“œë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”&#10;-ì˜ˆì‹œ-&#10;ì†Œê³ ê¸°&#10;ì‚¼ê²¹ì‚´&#10;íŒŒìŠ¤íƒ€" oninput="updateGroupCounts()"></textarea></div>
      <div><div class="glabel g4c"><svg width="14" height="14" viewBox="0 0 14 14" fill="none"><polygon points="7,1 9,5 13,5.5 10,8.5 11,13 7,11 3,13 4,8.5 1,5.5 5,5" fill="#8B5CF6" opacity=".2"/><circle cx="7" cy="7" r="1.5" fill="#8B5CF6"/></svg>ê·¸ë£¹4 â€” ì˜ë„/ì ‘ë¯¸ <span class="gcnt" id="g4cnt">(0)</span></div><textarea class="sinp" id="g4" rows="4" placeholder="í‚¤ì›Œë“œë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”&#10;-ì˜ˆì‹œ-&#10;ë§›ì§‘&#10;ì¶”ì²œ&#10;ì ì‹¬" oninput="updateGroupCounts()"></textarea></div>
    </div>
    <div class="wbar" style="border-color:rgba(239,68,68,.12);background:rgba(239,68,68,.02)">
      <button class="gobtn btn-sm btn-danger" onclick="document.getElementById('blacklistFile').click()">ğŸš« ê³¼ê±° ì¶”ì¶œ ì—‘ì…€ ì²¨ë¶€ (ì¤‘ë³µ ì œì™¸)</button>
      <input type="file" id="blacklistFile" accept=".xlsx,.xls" style="display:none" onchange="loadBlacklist(this)" multiple>
      <span id="blacklistInfo" style="font-size:11px;color:var(--gray)">ì œì™¸ ë“±ë¡: 0ê°œ</span>
      <button onclick="excludedKeywords.clear();document.getElementById('blacklistInfo').textContent='ì œì™¸ ë“±ë¡: 0ê°œ';showToast('ë¸”ë™ë¦¬ìŠ¤íŠ¸ ì´ˆê¸°í™”')" style="font-size:10px;background:none;border:1px solid var(--gray4);border-radius:4px;padding:3px 8px;cursor:pointer;color:var(--gray);font-family:var(--font)">ì´ˆê¸°í™”</button>
    </div>
    <div class="wbar wbar-dark">
      <span style="font-size:12px;font-weight:700;color:var(--blue)">âš¡ ëª©í‘œ ì¡°í•© ìˆ˜</span>
      <input class="ninp" id="comboTarget" type="number" min="100" max="999999" value="10000" style="width:80px">
      <button class="gobtn btn-sm" id="genBtn" onclick="generateCombos()">ì¡°í•© ìƒì„±</button>
      <span id="comboCount" style="font-size:12px;font-weight:700;color:var(--blue);font-family:var(--mono)"></span>
    </div>
    <div id="previewBox" style="display:none;max-height:150px;overflow-y:auto;padding:12px 16px;background:var(--gray6);border:1px solid var(--gray4);border-radius:var(--radius-sm);margin-bottom:12px;font-size:10px;font-family:var(--mono);color:var(--gray);line-height:1.8"></div>
    <div class="wbar wbar-dark">
      <span style="font-size:12px;font-weight:700;color:var(--slate)">ğŸ¯ ìš°ì„  íƒ€ê²Ÿ</span>
      <label style="font-size:12px;display:flex;align-items:center;gap:4px;cursor:pointer;font-weight:600;color:var(--blue)"><input type="radio" name="preferMap" value="new" checked style="accent-color:var(--blue)"> ğŸ”µ ì‹ ì§€ë„</label>
      <label style="font-size:12px;display:flex;align-items:center;gap:4px;cursor:pointer;font-weight:600;color:var(--green2)"><input type="radio" name="preferMap" value="old" style="accent-color:var(--green)"> ğŸŸ¢ êµ¬ì§€ë„</label>
      <span style="width:1px;height:16px;background:var(--gray4)"></span>
      <span style="font-size:12px;font-weight:700;color:var(--slate)">ëª©í‘œ</span>
      <input class="ninp" id="targetInput" type="number" min="0" max="99999" value="500" style="width:90px">
      <span style="font-size:11px;color:var(--gray)">ê°œ</span>
      <span style="width:1px;height:16px;background:var(--gray4)"></span>
      <span style="font-size:11px;font-weight:600;color:var(--slate)">ğŸ“‹</span>
      <input class="ninp" id="perDayInput" type="number" min="1" max="9999" value="100" style="width:80px">
      <span style="font-size:10px;color:var(--gray)">ê°œ/ì‹œíŠ¸ Ã—</span>
      <input class="ninp" id="daysInput" type="number" min="1" max="365" value="1" style="width:64px">
      <span style="font-size:10px;color:var(--gray)">ì¼</span>
    </div>
    <div style="display:flex;gap:8px;margin:14px 0;flex-wrap:wrap">
      <button class="gobtn btn-sm btn-outline" onclick="saveSession()" style="flex:1;min-width:140px">ğŸ’¾ í˜„ì¬ ìƒíƒœ ì €ì¥</button>
      <button class="gobtn btn-sm btn-outline" onclick="document.getElementById('loadSessionFile').click()" style="flex:1;min-width:140px">ğŸ“‚ ì´ì–´í•˜ê¸° (ë¶ˆëŸ¬ì˜¤ê¸°)</button>
      <input type="file" id="loadSessionFile" accept=".json" style="display:none" onchange="loadSession(this)">
    </div>
    <div id="sessionStatus" style="display:none;padding:8px 14px;font-size:12px;font-weight:600;margin-bottom:10px;border-radius:var(--radius-xs)"></div>
    <button class="gobtn" id="gobtn" onclick="startExtraction()" style="width:100%;padding:12px" disabled>â–¶ ë‹¨ì¼ ì¶”ì¶œ ì‹œì‘</button>
    <div style="display:flex;gap:8px;margin-top:8px">
      <button class="gobtn btn-outline" id="addQueueBtn" onclick="addToQueue()" style="flex:1;padding:10px" disabled>ğŸ›’ ëŒ€ê¸°ì—´ì— ì¶”ê°€</button>
    </div>
    <p class="shint" id="shint">ë¨¼ì € [ì¡°í•© ìƒì„±]ìœ¼ë¡œ í‚¤ì›Œë“œë¥¼ ë§Œë“  í›„ ì¶”ì¶œì„ ì‹œì‘í•˜ì„¸ìš”.</p>
    <div class="errbox" id="errbx"></div>
  </div>
  <!-- â•â•â• Queue Table â•â•â• -->
  <div class="card" id="queueCard" style="display:none">
    <div class="ctitle">
      <svg width="18" height="18" viewBox="0 0 18 18" fill="none"><rect x="3" y="3" width="12" height="12" rx="2" stroke="#8B5CF6" stroke-width="2"/><path d="M7 9H11M9 7V11" stroke="#8B5CF6" stroke-width="2" stroke-linecap="round"/></svg>
      ëŒ€ê¸°ì—´ (<span id="queueCount">0</span>ê°œ)
    </div>
    <table class="qtbl" id="queueTable"><thead><tr><th>#</th><th>ì—…ì¥ëª…</th><th>í‚¤ì›Œë“œ ìˆ˜</th><th>ëª©í‘œ</th><th>ìš°ì„ </th><th>ìˆœì„œ</th><th>ì‚­ì œ</th></tr></thead><tbody id="queueBody"></tbody></table>
    <div style="display:flex;gap:8px;margin-top:14px">
      <button class="gobtn" id="startQueueBtn" onclick="startManualBatch()" style="flex:1;padding:12px;font-size:14px">âš¡ ëŒ€ê¸°ì—´ ì¼ê´„ ì¶”ì¶œ ì‹œì‘</button>
      <button class="gobtn btn-sm btn-danger" onclick="clearQueue()" style="padding:12px">ğŸ—‘ ì´ˆê¸°í™”</button>
    </div>
  </div>
  </div><!-- /manualPanel -->
  <!-- â•â•â• Batch Progress Bar â•â•â• -->
  <div class="batch-bar" id="batchBar">
    <div class="batch-title" id="batchTitle">ğŸ­ ë‹¤ì¤‘ ì—…ì¥ ì²˜ë¦¬ ì¤‘...</div>
    <div class="batch-sub"><span id="batchStatus">ì¤€ë¹„ ì¤‘...</span></div>
    <div class="batch-pbar"><div class="batch-pfill" id="batchPfill"></div></div>
    <div class="batch-results" id="batchResults"></div>
  </div>
  <div class="sec" id="secP"><div class="pgcard">
    <div class="pgtop"><div class="pglbl" id="slbl"><span class="spin">â—Œ</span>&nbsp;ì¤€ë¹„ ì¤‘...</div><div class="pgct"><div class="n" id="fndN">0</div><div class="s">ê°œ ë°œê²¬</div></div></div>
    <div class="pbar"><div class="pfill" id="pfill"></div></div>
    <div class="pnums"><span id="pnum">0ê°œ ê²€ìƒ‰</span><span id="ppct"></span></div>
    <div id="etaWidget" style="text-align:center;font-size:12px;color:var(--gray);margin-top:6px;font-family:var(--mono)"></div>
    <div id="ptimer" style="text-align:center;font-size:20px;font-weight:700;color:var(--blue);margin:6px 0;font-family:var(--mono)"></div>
    <div class="crow" id="crow" style="display:none"><button class="bsm bpause" id="bpause" onclick="doPause()">â¸ ì¼ì‹œì •ì§€</button><button class="bsm bstop" onclick="doStop()">â–  ì¤‘ë‹¨</button><div class="tbadge" id="tbadge" style="display:none"></div></div>
    <div class="bizc" id="bizc"><div class="biznm" id="biznm"></div><div class="bizsub" id="bizsub"></div><div class="btags" id="btags"></div></div>
    <div class="logbox" id="logbox"></div>
  </div></div>
  <div class="sec" id="secR">
    <div class="rhero"><div class="rhl"><div class="big" id="doneN">0</div><div class="sub">ê°œì˜ 5ìœ„ ì´ë‚´ í‚¤ì›Œë“œ</div></div><div class="rhs"><div class="rhsi"><div class="v" id="stnew">0</div><div class="l">ğŸ”µ ì‹ ì§€ë„</div></div><div class="rhsi"><div class="v" id="stold">0</div><div class="l">ğŸŸ¢ êµ¬ì§€ë„</div></div><div class="rhsi"><div class="v" id="stchk">0</div><div class="l">ì´ ê²€ìƒ‰</div></div></div></div>
    <div class="tdone" id="tdone">ğŸ¯ ëª©í‘œ ë‹¬ì„±!</div>
    <div class="exbox" id="exbox"><div class="exinfo"><div style="font-size:13px;font-weight:600">ğŸ“Š <b id="extxt">ì—‘ì…€</b></div><div class="sub" id="exsub"></div></div><div style="display:flex;align-items:center;gap:10px"><div class="exspin" id="exspin"><span class="spin">â—Œ</span> ìƒì„± ì¤‘...</div><button class="exbtn" id="exbtn" onclick="downloadExcel()">ğŸ“¥ ì—‘ì…€ ë‹¤ìš´ë¡œë“œ</button></div></div>
    <div class="rcard">
      <div class="rtbar"><div class="rtitle">"<span id="biznmlbl"></span>" ìƒìœ„ 5ìœ„ í‚¤ì›Œë“œ</div><div class="tbtns"><button class="ftab act" data-f="all" onclick="setFilter('all')">ì „ì²´ <span id="cntall">0</span></button><button class="ftab" data-f="new" onclick="setFilter('new')">ğŸ”µì‹  <span id="cntnew">0</span></button><button class="ftab" data-f="old" onclick="setFilter('old')">ğŸŸ¢êµ¬ <span id="cntold">0</span></button><button class="cabtn" onclick="copyAll()">ğŸ“‹ ë³µì‚¬</button></div></div>
      <div class="tctrl"><span class="tctrl-label">ìë™ìŠ¤í¬ë¡¤</span><label class="tswitch"><input type="checkbox" id="autoScrollChk" checked><span class="tslider"></span></label><span style="width:1px;height:14px;background:var(--gray4);margin:0 4px"></span><button class="rchip act" data-r="0" onclick="setRankFilter(0)">ì „ì²´</button><button class="rchip" data-r="1" onclick="setRankFilter(1)">1ìœ„</button><button class="rchip" data-r="2" onclick="setRankFilter(2)">2ìœ„</button><button class="rchip" data-r="3" onclick="setRankFilter(3)">3ìœ„</button><button class="rchip" data-r="4" onclick="setRankFilter(4)">4ìœ„</button><button class="rchip" data-r="5" onclick="setRankFilter(5)">5ìœ„</button></div>
      <div style="max-height:600px;overflow-y:auto" id="tblWrap"><table class="ktbl"><thead><tr><th style="width:32px">No.</th><th>ìˆœìœ„</th><th>í‚¤ì›Œë“œ</th><th style="width:60px">ë³µì‚¬</th></tr></thead><tbody id="ktbody"></tbody></table></div>
      <div class="empty" id="emptyMsg">ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤. í‚¤ì›Œë“œ ì¡°í•©ì„ ì¡°ì •í•´ ë³´ì„¸ìš”.</div>
    </div>
  </div>
  <div class="faq" style="margin-top:32px">
    <div class="faqt" style="display:flex;align-items:center;gap:8px;padding-bottom:14px;border-bottom:2px solid var(--blue);margin-bottom:20px">ğŸ’¬ ìì£¼ ë¬»ëŠ” ì§ˆë¬¸<span style="font-size:11px;font-weight:500;color:var(--gray);margin-left:auto">FAQ</span></div>
    <table style="width:100%;border-collapse:separate;border-spacing:0 10px">
      <tr><td style="vertical-align:top;padding:12px 14px;background:var(--sky2);border-radius:10px 0 0 10px;font-size:13px;font-weight:700;color:var(--blue);white-space:nowrap;width:30px">Q</td><td style="padding:12px 14px;background:var(--sky2);border-radius:0 10px 10px 0"><div style="font-size:13px;font-weight:700;color:var(--navy);margin-bottom:6px">ì™œ ê°™ì€ í‚¤ì›Œë“œë¥¼ ê³„ì† ì“°ë©´ ì•ˆ ë˜ë‚˜ìš”?</div><div style="font-size:12px;color:var(--gray);line-height:1.75">ë™ì¼ í‚¤ì›Œë“œë¡œ ìˆ˜ë°± ê±´ì˜ ìœ ì…ì´ í•œêº¼ë²ˆì— ëª°ë¦¬ë©´, ë„¤ì´ë²„ëŠ” ì´ë¥¼ <b style="color:var(--navy)">ë¹„ì •ìƒ íŠ¸ë˜í”½(ì‘ì—…)</b>ìœ¼ë¡œ íŒë‹¨í•©ë‹ˆë‹¤. ê·¸ ê²°ê³¼ ìˆœìœ„ ì ìˆ˜ì— ì—­íš¨ê³¼ê°€ ë‚  ìˆ˜ ìˆì–´ìš”. ë°˜ë©´ì— ìˆ˜ë°± ê°œì˜ ì„œë¡œ ë‹¤ë¥¸ í‚¤ì›Œë“œë¡œ ìœ ì…ì„ ë¶„ì‚°í•˜ë©´, ë„¤ì´ë²„ê°€ <b style="color:var(--blue)">ìì—° ê²€ìƒ‰ ìœ ì…</b>ìœ¼ë¡œ ì¸ì‹í•˜ì—¬ ìˆœìœ„ì— ê¸ì •ì ì¸ ì ìˆ˜ê°€ ë°˜ì˜ë©ë‹ˆë‹¤.</div></td></tr>
      <tr><td style="vertical-align:top;padding:12px 14px;background:var(--gray6);border-radius:10px 0 0 10px;font-size:13px;font-weight:700;color:var(--blue);white-space:nowrap">Q</td><td style="padding:12px 14px;background:var(--gray6);border-radius:0 10px 10px 0"><div style="font-size:13px;font-weight:700;color:var(--navy);margin-bottom:6px">ê¸°ì¡´ ìˆ˜ì‘ì—…ê³¼ ë­ê°€ ë‹¤ë¥¸ê°€ìš”?</div><div style="font-size:12px;color:var(--gray);line-height:1.75">ìˆ˜ì‘ì—…ì€ í‚¤ì›Œë“œë¥¼ ì§ì ‘ ë– ì˜¬ë¦¬ê³  â†’ ë„¤ì´ë²„ì— ê²€ìƒ‰í•˜ê³  â†’ ìˆœìœ„ë¥¼ ëˆˆìœ¼ë¡œ í™•ì¸í•˜ê³  â†’ ì—‘ì…€ì— íƒ€ì´í•‘í•˜ëŠ” ê³¼ì •ì„ ë°˜ë³µí•´ì•¼ í•©ë‹ˆë‹¤. ì—…ì¥ í•˜ë‚˜ì— 30ë¶„ ì´ìƒ ê±¸ë¦¬ì£ . ì´ì§€ë³´ë“œëŠ” ì´ ì „ì²´ ê³¼ì •ì„ <b style="color:var(--blue)">í´ë¦­ í•œ ë²ˆ</b>ìœ¼ë¡œ ìë™ ì™„ë£Œí•©ë‹ˆë‹¤.</div></td></tr>
      <tr><td style="vertical-align:top;padding:12px 14px;background:var(--sky2);border-radius:10px 0 0 10px;font-size:13px;font-weight:700;color:var(--blue);white-space:nowrap">Q</td><td style="padding:12px 14px;background:var(--sky2);border-radius:0 10px 10px 0"><div style="font-size:13px;font-weight:700;color:var(--navy);margin-bottom:6px">ë¸”ë™ë¦¬ìŠ¤íŠ¸ ê¸°ëŠ¥ì´ ë­”ê°€ìš”?</div><div style="font-size:12px;color:var(--gray);line-height:1.75">ì´ì „ì— ì¶”ì¶œí•œ í‚¤ì›Œë“œ ì—‘ì…€ì„ ì²¨ë¶€í•˜ë©´, ì´ë¯¸ í™•ë³´ëœ í‚¤ì›Œë“œë¥¼ <b style="color:var(--green2)">ìë™ìœ¼ë¡œ ì œì™¸</b>í•˜ê³  ìƒˆ í‚¤ì›Œë“œë§Œ ì°¾ìŠµë‹ˆë‹¤. ê°™ì€ ì—…ì¥ì„ ë°˜ë³µ ì¶”ì¶œí•  ë•Œ ì¤‘ë³µ ì—†ì´ ë§¤ë²ˆ ì‹ ì„ í•œ í‚¤ì›Œë“œë§Œ ë°œêµ´í•  ìˆ˜ ìˆì–´ì„œ, ë§¤ì£¼ ë¦¬ì›Œë“œ ë¯¸ì…˜ í‚¤ì›Œë“œë¥¼ <b style="color:var(--navy)">ì‹ ì„ í•˜ê²Œ êµì²´</b>í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div></td></tr>
      <tr><td style="vertical-align:top;padding:12px 14px;background:var(--gray6);border-radius:10px 0 0 10px;font-size:13px;font-weight:700;color:var(--blue);white-space:nowrap">Q</td><td style="padding:12px 14px;background:var(--gray6);border-radius:0 10px 10px 0"><div style="font-size:13px;font-weight:700;color:var(--navy);margin-bottom:6px">ì—…ë¬´ ì‹œê°„ì´ ì•„ë‹ ë•Œë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‚˜ìš”?</div><div style="font-size:12px;color:var(--gray);line-height:1.75">ë„¤, <b style="color:var(--blue)">ëŒ€ê¸°ì—´ ê¸°ëŠ¥</b>ì„ í™œìš©í•˜ë©´ ë©ë‹ˆë‹¤. í‡´ê·¼ ì „ì— ì—¬ëŸ¬ ì—…ì¥ì„ ëŒ€ê¸°ì—´ì— ë“±ë¡í•´ë‘ë©´, ì»´í“¨í„°ê°€ ì¼œì ¸ ìˆëŠ” ë™ì•ˆ ìˆœì„œëŒ€ë¡œ ìë™ ì¶”ì¶œí•©ë‹ˆë‹¤. ë‹¤ìŒ ë‚  ì¶œê·¼í•˜ë©´ ì—‘ì…€ íŒŒì¼ì´ ì¤€ë¹„ë˜ì–´ ìˆì–´ìš”.</div></td></tr>
      <tr><td style="vertical-align:top;padding:12px 14px;background:var(--sky2);border-radius:10px 0 0 10px;font-size:13px;font-weight:700;color:var(--blue);white-space:nowrap">Q</td><td style="padding:12px 14px;background:var(--sky2);border-radius:0 10px 10px 0"><div style="font-size:13px;font-weight:700;color:var(--navy);margin-bottom:6px">ë‚´ í° ìˆœìœ„ì™€ í”„ë¡œê·¸ë¨ ê²°ê³¼ê°€ ë‹¤ë¥¸ë°ìš”?</div><div style="font-size:12px;color:var(--gray);line-height:1.75">ë„¤ì´ë²„ëŠ” ë‚´ ê²€ìƒ‰ ê¸°ë¡ê³¼ ìœ„ì¹˜ì— ë”°ë¼ <b style="color:var(--navy)">'ê°œì¸í™” ê²°ê³¼'</b>ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤. ê·¸ë˜ì„œ ë‚´ í°ì—ì„œ 1ìœ„ë¡œ ë³´ì—¬ë„ ì‹¤ì œë¡œëŠ” ì•„ë‹ ìˆ˜ ìˆì–´ìš”. ì´ì§€ë³´ë“œëŠ” ì„œë²„ ê¸°ì¤€ì˜ <b style="color:var(--blue)">ê°ê´€ì ì¸ í‘œì¤€ ìˆœìœ„</b>ë¥¼ ì œê³µí•˜ë©°, ë‹¤ì–‘í•œ ì‚¬ìš©ìê°€ ì ‘ì†í•˜ëŠ” ë¦¬ì›Œë“œ ìœ ì…ì—ëŠ” í‘œì¤€ ìˆœìœ„ê°€ ë” ì •í™•í•œ ê¸°ì¤€ì…ë‹ˆë‹¤.</div></td></tr>
      <tr><td style="vertical-align:top;padding:12px 14px;background:var(--gray6);border-radius:10px 0 0 10px;font-size:13px;font-weight:700;color:var(--blue);white-space:nowrap">Q</td><td style="padding:12px 14px;background:var(--gray6);border-radius:0 10px 10px 0"><div style="font-size:13px;font-weight:700;color:var(--navy);margin-bottom:6px">ğŸ”µ ì‹ ì§€ë„ / ğŸŸ¢ êµ¬ì§€ë„ê°€ ë­”ê°€ìš”?</div><div style="font-size:12px;color:var(--gray);line-height:1.75">ë„¤ì´ë²„ ê²€ìƒ‰ ê²°ê³¼ì— í”Œë ˆì´ìŠ¤ê°€ í‘œì‹œë˜ëŠ” ë‘ ê°€ì§€ í˜•íƒœì…ë‹ˆë‹¤. í˜„ì¬ëŠ” <b style="color:var(--blue)">ğŸ”µ ì‹ ì§€ë„ í‚¤ì›Œë“œ ìœ„ì£¼ë¡œ ì ‘ìˆ˜</b>í•˜ì‹œëŠ” ë¶„ì´ ëŒ€ë¶€ë¶„ì…ë‹ˆë‹¤. ë‹¤ë§Œ ğŸŸ¢ êµ¬ì§€ë„ í‚¤ì›Œë“œë„ í•¨ê»˜ ì„ìœ¼ë©´ ë” ìì—°ìŠ¤ëŸ½ë‹¤ê³  íŒë‹¨í•˜ì—¬ í™œìš©í•˜ì‹œëŠ” ê²½ìš°ë„ ìˆì–´ìš”. ì´ì§€ë³´ë“œëŠ” ë‘˜ ë‹¤ ìë™ êµ¬ë¶„í•´ì„œ í‘œì‹œí•©ë‹ˆë‹¤.</div></td></tr>
      <tr><td style="vertical-align:top;padding:12px 14px;background:var(--sky2);border-radius:10px 0 0 10px;font-size:13px;font-weight:700;color:var(--blue);white-space:nowrap">Q</td><td style="padding:12px 14px;background:var(--sky2);border-radius:0 10px 10px 0"><div style="font-size:13px;font-weight:700;color:var(--navy);margin-bottom:6px">ë¶„ì„ ë„ì¤‘ ë©ˆì¶”ê±°ë‚˜ ë¦¬ì…‹ë˜ëŠ” ì´ìœ ëŠ”?</div><div style="font-size:12px;color:var(--gray);line-height:1.75">ë„¤ì´ë²„ì˜ ì¼ì‹œì ì¸ ì°¨ë‹¨ì„ ìš°íšŒí•˜ê¸° ìœ„í•´ <b style="color:var(--navy)">ë¸Œë¼ìš°ì € ì„¸ì…˜ì„ ìë™ìœ¼ë¡œ ì„¸íƒ</b>í•˜ëŠ” ê³¼ì •ì…ë‹ˆë‹¤. ì ì‹œ ê¸°ë‹¤ë¦¬ë©´ ìë™ìœ¼ë¡œ ì´ì–´ì„œ ì§„í–‰ë˜ë‹ˆ ê±±ì •í•˜ì§€ ì•Šìœ¼ì…”ë„ ë©ë‹ˆë‹¤.</div></td></tr>
      <tr><td style="vertical-align:top;padding:12px 14px;background:var(--gray6);border-radius:10px 0 0 10px;font-size:13px;font-weight:700;color:var(--blue);white-space:nowrap">Q</td><td style="padding:12px 14px;background:var(--gray6);border-radius:0 10px 10px 0"><div style="font-size:13px;font-weight:700;color:var(--navy);margin-bottom:6px">ëŒ€í–‰ì‚¬ì—ì„œ ì—¬ëŸ¬ ì—…ì¥ì„ ì—°ì†ìœ¼ë¡œ ì‘ì—…í•  ìˆ˜ ìˆë‚˜ìš”?</div><div style="font-size:12px;color:var(--gray);line-height:1.75"><b style="color:var(--blue)">ëŒ€ê¸°ì—´ ê¸°ëŠ¥</b>ì„ í™œìš©í•˜ì„¸ìš”. ì—¬ëŸ¬ ì—…ì¥ì˜ URLê³¼ ì„¤ì •ì„ ë“±ë¡í•˜ë©´ ìˆœì„œëŒ€ë¡œ ìë™ ì¶”ì¶œë©ë‹ˆë‹¤. ëª©í‘œ ìˆ˜ëŸ‰ê³¼ ìš°ì„  íƒ€ê²Ÿ(ì‹ ì§€ë„/êµ¬ì§€ë„)ë„ ì—…ì¥ë³„ë¡œ ê°œë³„ ì„¤ì •í•  ìˆ˜ ìˆì–´ ëŒ€í–‰ì‚¬Â·ì‹¤í–‰ì‚¬ì˜ <b style="color:var(--navy)">ëŒ€ëŸ‰ ì‘ì—…ì— ìµœì í™”</b>ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</div></td></tr>
      <tr><td style="vertical-align:top;padding:12px 14px;background:var(--sky2);border-radius:10px 0 0 10px;font-size:13px;font-weight:700;color:var(--blue);white-space:nowrap">Q</td><td style="padding:12px 14px;background:var(--sky2);border-radius:0 10px 10px 0"><div style="font-size:13px;font-weight:700;color:var(--navy);margin-bottom:6px">ì •ë§ ì™„ì „ ë¬´ë£Œì¸ê°€ìš”?</div><div style="font-size:12px;color:var(--gray);line-height:1.75">ë„¤, 100% ë¬´ë£Œì…ë‹ˆë‹¤. ê¸°ëŠ¥ ì œí•œë„ ì—†ê³ , ì¶”ì¶œ íšŸìˆ˜ ì œí•œë„ ì—†ìŠµë‹ˆë‹¤. ìˆ¨ê²¨ì§„ ê²°ì œë‚˜ ìœ ë£Œ ì „í™˜ ê°™ì€ ê²ƒ ì—†ì´, íšŒì›ê°€ì…ë§Œ í•˜ë©´ <b style="color:var(--blue)">ëª¨ë“  ê¸°ëŠ¥ì„ ë¬´ì œí•œ</b> ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div></td></tr>
    </table>
  </div>
</main>
<div class="toast" id="toast"></div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
<script>
/* â•â•â• Auth â•â•â• */
async function doLogout(){
  try{await fetch('/api/auth/logout',{method:'POST'});}catch(e){}
  window.location.href='/login';
}
fetch('/api/auth/check').then(r=>r.json()).then(d=>{
  if(d.loggedIn&&d.username){
    const b=document.getElementById('userBadge');
    b.textContent='ğŸ‘¤ '+d.username;b.style.display='inline-block';
    document.getElementById('logoutBtn').style.display='inline-block';
  }
}).catch(()=>{});

/* â•â•â• Dark Mode â•â•â• */
function toggleTheme(){
  const h=document.documentElement;
  const isDark=h.getAttribute('data-theme')==='dark';
  h.setAttribute('data-theme',isDark?'light':'dark');
  document.getElementById('themeToggle').textContent=isDark?'ğŸŒ™':'â˜€ï¸';
  localStorage.setItem('theme',isDark?'light':'dark');
}
(function(){
  const t=localStorage.getItem('theme');
  if(t==='dark'){
    document.documentElement.setAttribute('data-theme','dark');
    const tgl=document.getElementById('themeToggle');
    if(tgl) tgl.textContent='â˜€ï¸';
  }
})();

/* â•â•â• Sound â•â•â• */
let soundOn=true,audioCtx=null;
function playPing(){if(!soundOn)return;try{if(!audioCtx)audioCtx=new(window.AudioContext||window.webkitAudioContext)();const t=audioCtx.currentTime;
// 1ìŒ: E6 (1318Hz) â€” ë°ì€ ì–´íƒ
const o1=audioCtx.createOscillator(),g1=audioCtx.createGain();o1.connect(g1);g1.connect(audioCtx.destination);o1.type='sine';o1.frequency.setValueAtTime(1318,t);g1.gain.setValueAtTime(0.18,t);g1.gain.exponentialRampToValueAtTime(0.06,t+0.12);g1.gain.exponentialRampToValueAtTime(0.001,t+0.25);o1.start(t);o1.stop(t+0.25);
// 2ìŒ: G6 (1568Hz) â€” ìƒìŠ¹ ë§ˆë¬´ë¦¬ (0.12ì´ˆ í›„)
const o2=audioCtx.createOscillator(),g2=audioCtx.createGain();o2.connect(g2);g2.connect(audioCtx.destination);o2.type='sine';o2.frequency.setValueAtTime(1568,t+0.12);g2.gain.setValueAtTime(0.001,t);g2.gain.linearRampToValueAtTime(0.2,t+0.14);g2.gain.exponentialRampToValueAtTime(0.001,t+0.45);o2.start(t+0.12);o2.stop(t+0.45);
}catch(e){}}
function toggleSound(){soundOn=!soundOn;const el=$('sndToggle');el.textContent=soundOn?'ğŸ”” ì•Œë¦¼ìŒ':'ğŸ”• ì•Œë¦¼ìŒ';el.classList.toggle('on',soundOn);}

/* â•â•â• Util â•â•â• */
const $=id=>document.getElementById(id);
function esc(s){return(s||'').replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');}
function show(id){$(id).classList.add('on');}function hide(id){$(id).classList.remove('on');}
function setErr(m){const b=$('errbx');b.textContent=m;b.style.display=m?'block':'none';}
function showToast(msg){const t=$('toast');t.textContent=msg;t.classList.add('show');setTimeout(()=>t.classList.remove('show'),2800);}
function getPreferMap(){return document.querySelector('input[name="preferMap"]:checked')?.value||'new';}
function getGroupWords(id){return($(id).value||'').split(/\r?\n/).map(s=>s.trim()).filter(s=>s.length>=1);}
function updateGroupCounts(){['g1','g2','g3','g4'].forEach(id=>{$(id+'cnt').textContent='('+getGroupWords(id).length+')';});}

/* â•â•â• ETA â•â•â• */
let etaHistory=[];
function updateETA(checked,found){
  const tgt=parseInt($('targetInput').value)||0;if(!tgt)return;
  etaHistory.push({t:Date.now(),f:found});if(etaHistory.length>20)etaHistory.shift();if(etaHistory.length<3)return;
  const o=etaHistory[0],n=etaHistory[etaHistory.length-1],dt=(n.t-o.t)/1000,df=n.f-o.f;
  if(dt<=0||df<=0){$('etaWidget').textContent='';return;}
  const rpm=(df/dt)*60,remain=tgt-found;
  if(remain<=0){$('etaWidget').textContent='ğŸ¯ ëª©í‘œ ë‹¬ì„±!';return;}
  const es=remain/(rpm/60),em=Math.floor(es/60),s=Math.floor(es%60);
  $('etaWidget').textContent=em>60?`â³ ~${Math.floor(em/60)}h ${em%60}m Â· ${rpm.toFixed(1)} RPM`:`â³ ~${em}m ${s}s Â· ${rpm.toFixed(1)} RPM`;
}

/* â•â•â• Core State â•â•â• */
let top5Data=[],curFilter='all',rankFilter=0,lastInfo={},targetNum=0;
let generatedKeywords=[],remainingKeywords=[];
let extractionDone=false;
const excludedKeywords=new Set();

/* â•â•â• ğŸš« ë¸”ë™ë¦¬ìŠ¤íŠ¸ (ê³¼ê±° ì—‘ì…€ ì²¨ë¶€) â•â•â• */
function loadBlacklist(input){
  const files=input.files;if(!files.length)return;
  let loaded=0;
  Array.from(files).forEach(file=>{
    const reader=new FileReader();
    reader.onload=function(e){
      try{
        const wb=XLSX.read(new Uint8Array(e.target.result),{type:'array'});
        wb.SheetNames.forEach(sn=>{
          if(sn==='SessionData')return;
          const rows=XLSX.utils.sheet_to_json(wb.Sheets[sn],{header:1});
          rows.forEach((row,idx)=>{
            if(idx===0)return;
            // ì—‘ì…€ êµ¬ì¡°: [ë°œê²¬ìˆœì„œ, ì‹ ì§€ë„í‚¤ì›Œë“œ, ìˆœìœ„, ë°œê²¬ìˆœì„œ, êµ¬ì§€ë„í‚¤ì›Œë“œ, ìˆœìœ„]
            const a=(row[1]||'').toString().trim();
            const c=(row[4]||'').toString().trim();
            if(a&&a.length>=2)excludedKeywords.add(a);
            if(c&&c.length>=2)excludedKeywords.add(c);
          });
        });
      }catch(err){showToast('âŒ ì—‘ì…€ íŒŒì‹± ì˜¤ë¥˜: '+err.message);}
      loaded++;
      if(loaded===files.length){
        $('blacklistInfo').textContent=`ğŸš« ${excludedKeywords.size.toLocaleString()}ê°œì˜ ê³¼ê±° í‚¤ì›Œë“œê°€ ì œì™¸ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.`;
        $('blacklistInfo').style.color='var(--red)';$('blacklistInfo').style.fontWeight='700';
        showToast(`ğŸš« ë¸”ë™ë¦¬ìŠ¤íŠ¸ ${excludedKeywords.size.toLocaleString()}ê°œ ë“±ë¡ ì™„ë£Œ!`);
      }
    };
    reader.readAsArrayBuffer(file);
  });
  input.value='';
}

/* â•â•â• ğŸ”® ì¶”ì²œ ë‹¨ì–´ â•â•â• */
async function suggestWords(){
  const url=($('urlInput').value||'').trim();
  if(!url||url.length<10){setErr('URLì„ ë¨¼ì € ì…ë ¥í•´ì£¼ì„¸ìš”');return;}
  const btn=$('suggestBtn');btn.disabled=true;btn.textContent='ğŸ”„ í¬ë¡¤ë§ ì¤‘...';setErr('');
  try{
    const res=await fetch('/api/suggest-words',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({placeUrl:url})});
    if(!res.ok)throw new Error((await res.json()).error||'ì„œë²„ ì˜¤ë¥˜');
    const data=await res.json();
    lastInfo=data.info||{};
    $('bizInfoBar').textContent=`${data.info.name} | ${data.info.category} | ${data.info.address}`;
    $('bizInfoBar').style.display='block';
    ['g1','g2','g3','g4'].forEach((id,i)=>{
      const key=['group1','group2','group3','group4'][i];
      const existing=new Set(getGroupWords(id));
      const nw=(data[key]||[]).filter(w=>!existing.has(w));
      const el=$(id),cur=el.value.trim();
      el.value=(cur?cur+'\n':'')+nw.join('\n');
    });
    updateGroupCounts();
    showToast(`âœ… ${data.info.name} â€” ì¶”ì²œ ë‹¨ì–´ ì±„ì›€ ì™„ë£Œ!`);
  }catch(e){setErr('í¬ë¡¤ë§ ì˜¤ë¥˜: '+e.message);}
  finally{btn.disabled=false;btn.textContent='ğŸ”® ì¶”ì²œ ë‹¨ì–´ ë¶ˆëŸ¬ì˜¤ê¸°';}
}

/* â•â•â• âš¡ ì¡°í•© ìƒì„± (ë¸”ë™ë¦¬ìŠ¤íŠ¸ ì œì™¸) â•â•â• */
function generateCombos(){
  const g1=getGroupWords('g1'),g2=getGroupWords('g2'),g3=getGroupWords('g3'),g4=getGroupWords('g4');
  if(!g1.length&&!g3.length){setErr('ìµœì†Œí•œ ê·¸ë£¹1(ì§€ì—­) ë˜ëŠ” ê·¸ë£¹3(ë©”ë‰´)ì— ë‹¨ì–´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”');return;}
  setErr('');
  const maxTarget=parseInt($('comboTarget').value)||10000;
  const combos=new Set();

  // â˜… ì •ë°©í–¥ ìˆœì°¨ ì¡°í•©ë§Œ í—ˆìš© (1â†’2â†’3â†’4 ìˆœì„œ ê°•ì œ) â˜…
  // 4ê·¸ë£¹ ì „ì²´ (1+2+3+4)
  g1.forEach(a=>g2.forEach(b=>g3.forEach(c=>g4.forEach(d=>{
    combos.add(a+' '+b+' '+c+' '+d);
    combos.add(a+b+c+d);
  }))));
  // 3ê·¸ë£¹ ì¡°í•© (ìˆœì„œ ìœ ì§€)
  g1.forEach(a=>g2.forEach(b=>g3.forEach(c=>{combos.add(a+' '+b+' '+c);combos.add(a+b+c);})));
  g1.forEach(a=>g2.forEach(b=>g4.forEach(c=>combos.add(a+' '+b+' '+c))));
  g1.forEach(a=>g3.forEach(b=>g4.forEach(c=>{combos.add(a+' '+b+' '+c);combos.add(a+b+' '+c);})));
  g2.forEach(a=>g3.forEach(b=>g4.forEach(c=>combos.add(a+' '+b+' '+c))));
  // 2ê·¸ë£¹ ì¡°í•© (ìˆœì„œ ìœ ì§€)
  g1.forEach(a=>g2.forEach(b=>combos.add(a+' '+b)));
  g1.forEach(a=>g3.forEach(b=>{combos.add(a+' '+b);combos.add(a+b);}));
  g1.forEach(a=>g4.forEach(b=>{combos.add(a+' '+b);combos.add(a+b);}));
  g2.forEach(a=>g3.forEach(b=>combos.add(a+' '+b)));
  g2.forEach(a=>g4.forEach(b=>combos.add(a+' '+b)));
  g3.forEach(a=>g4.forEach(b=>{combos.add(a+' '+b);combos.add(a+b);}));
  // ë‹¨ë… (ê·¸ë£¹3 ë©”ë‰´ë§Œ)
  g3.forEach(a=>combos.add(a));

  // â˜… ë¸”ë™ë¦¬ìŠ¤íŠ¸ ì œì™¸ â˜…
  let arr=[...combos].filter(k=>k.trim().length>=2&&!excludedKeywords.has(k.trim()));
  // Fisher-Yates shuffle
  for(let i=arr.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[arr[i],arr[j]]=[arr[j],arr[i]];}
  // ëª©í‘œ ìˆ˜ëŸ‰ cut
  if(arr.length>maxTarget)arr=arr.slice(0,maxTarget);

  generatedKeywords=arr;remainingKeywords=[...arr];
  const excluded=combos.size-arr.length;
  $('comboCount').textContent=`ì´ ${arr.length.toLocaleString()}ê°œ ìƒì„±`+(excluded>0?` (${excluded.toLocaleString()}ê°œ ì œì™¸ë¨)`:'');
  const preview=arr.slice(0,80).map(k=>`<span style="display:inline-block;margin:2px 3px;padding:2px 6px;background:var(--sky2);border:1px solid var(--gray4);border-radius:4px;font-size:9px">${esc(k)}</span>`).join('');
  $('previewBox').innerHTML=preview+(arr.length>80?`<div style="margin-top:6px;color:var(--gray)">... ì™¸ ${(arr.length-80).toLocaleString()}ê°œ</div>`:'');
  $('previewBox').style.display='block';
  $('gobtn').disabled=false;
  $('addQueueBtn').disabled=false;
  $('shint').textContent=`âœ… ${arr.length.toLocaleString()}ê°œ í‚¤ì›Œë“œ ì¤€ë¹„ ì™„ë£Œ!`;
  showToast(`âš¡ ${arr.length.toLocaleString()}ê°œ ì¡°í•© ìƒì„±!`);
}

/* â•â•â• ğŸ’¾ ì„¸ì…˜ ì €ì¥ (JSON ë‹¤ìš´ë¡œë“œ) â•â•â• */
function saveSession(){
  const data={
    url:$('urlInput').value.trim(),
    groups:{g1:$('g1').value,g2:$('g2').value,g3:$('g3').value,g4:$('g4').value},
    remaining:remainingKeywords,
    excluded:[...excludedKeywords],
    top5:top5Data,
    preferMap:getPreferMap(),
    targetCount:parseInt($('targetInput').value)||0,
    comboTarget:parseInt($('comboTarget').value)||10000,
    perDay:parseInt($('perDayInput').value)||100,
    days:parseInt($('daysInput').value)||1,
    bizName:lastInfo.name||'',
    checkedCount:window._lastChecked||0,
    savedAt:new Date().toISOString()
  };
  const blob=new Blob([JSON.stringify(data,null,2)],{type:'application/json'});
  const a=document.createElement('a');a.href=URL.createObjectURL(blob);
  a.download=`${lastInfo.name||'ì´ì§€ë³´ë“œ'} ì¶”ì¶œì¤‘.json`;
  document.body.appendChild(a);a.click();a.remove();
  showToast('ğŸ’¾ ì„¸ì…˜ ì €ì¥ ì™„ë£Œ! ë‚˜ì¤‘ì— [ì´ì–´í•˜ê¸°]ë¡œ ë¶ˆëŸ¬ì˜¤ì„¸ìš”.');
}

/* â•â•â• ğŸ“‚ ì„¸ì…˜ ë¶ˆëŸ¬ì˜¤ê¸° (JSON) â•â•â• */
function loadSession(input){
  const file=input.files[0];if(!file)return;
  const st=$('sessionStatus');st.style.display='block';st.style.color='var(--slate)';st.style.background='var(--sky2)';st.textContent='â³ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...';
  const reader=new FileReader();
  reader.onload=function(e){
    try{
      const data=JSON.parse(e.target.result);
      if(data.url)$('urlInput').value=data.url;
      if(data.groups){
        if(data.groups.g1)$('g1').value=data.groups.g1;
        if(data.groups.g2)$('g2').value=data.groups.g2;
        if(data.groups.g3)$('g3').value=data.groups.g3;
        if(data.groups.g4)$('g4').value=data.groups.g4;
        updateGroupCounts();
      }
      if(data.preferMap){const r=document.querySelector(`input[name="preferMap"][value="${data.preferMap}"]`);if(r)r.checked=true;}
      if(data.targetCount)$('targetInput').value=data.targetCount;
      if(data.comboTarget)$('comboTarget').value=data.comboTarget;
      if(data.perDay)$('perDayInput').value=data.perDay;
      if(data.days)$('daysInput').value=data.days;
      if(data.bizName)lastInfo.name=data.bizName;
      // ëŒ€ê¸°ì—´ ë³µì› â€” â˜… generatedKeywordsëŠ” ê±´ë“œë¦¬ì§€ ì•ŠìŒ! â˜…
      if(data.remaining&&data.remaining.length>0){
        remainingKeywords=data.remaining;
        // â˜… _isResuming í”Œë˜ê·¸: startExtractionì—ì„œ ì´ˆê¸°í™” ë°©ì§€ â˜…
        window._isResuming=true;
        $('comboCount').textContent=`ëŒ€ê¸°ì—´ ${data.remaining.length.toLocaleString()}ê°œ ë³µì›ë¨`;
        $('gobtn').disabled=false;
        $('addQueueBtn').disabled=false;
        $('shint').textContent=`âœ… ${data.remaining.length.toLocaleString()}ê°œ ë‚¨ì€ í‚¤ì›Œë“œ ë³µì›! [ì¶”ì¶œ ì‹œì‘]ì„ ëˆ„ë¥´ì„¸ìš”.`;
      }
      // ë¸”ë™ë¦¬ìŠ¤íŠ¸ ë³µì›
      if(data.excluded&&data.excluded.length>0){
        data.excluded.forEach(k=>excludedKeywords.add(k));
        $('blacklistInfo').textContent=`ğŸš« ${excludedKeywords.size.toLocaleString()}ê°œ ì œì™¸ ë“±ë¡ë¨ (ë³µì›)`;
        $('blacklistInfo').style.color='var(--red)';$('blacklistInfo').style.fontWeight='700';
      }
      // ê²°ê³¼ ë³µì›
      if(data.top5&&data.top5.length>0){
        top5Data=data.top5;renderTable(top5Data);updateExcelBox();show('secR');
        $('doneN').textContent=top5Data.length;
        $('stnew').textContent=top5Data.filter(x=>x.mapType==='new').length;
        $('stold').textContent=top5Data.filter(x=>x.mapType==='old').length;
      }
      if(data.checkedCount)window._lastChecked=data.checkedCount;
      const q=data.remaining?.length||0;
      st.textContent=`âœ… ë³µì› ì™„ë£Œ! ê²°ê³¼ ${data.top5?.length||0}ê°œ + ëŒ€ê¸°ì—´ ${q.toLocaleString()}ê°œ + ë¸”ë™ë¦¬ìŠ¤íŠ¸ ${excludedKeywords.size}ê°œ`;
      st.style.color='var(--blue)';
      showToast(`ğŸ“‚ ì„¸ì…˜ 100% ë³µì› ì™„ë£Œ!`);
    }catch(err){st.textContent='âŒ JSON íŒŒì‹± ì˜¤ë¥˜: '+err.message;st.style.color='var(--red)';}
  };
  reader.readAsText(file);input.value='';
}

/* â•â•â• â–¶ ì¶”ì¶œ ì‹œì‘ â•â•â• */
function startExtraction(){
  const kws=remainingKeywords.length>0?remainingKeywords:generatedKeywords;
  if(!kws.length){setErr('ë¨¼ì € [ì¡°í•© ìƒì„±í•˜ê¸°]ë¥¼ ì‹¤í–‰í•´ì£¼ì„¸ìš”');return;}
  const url=($('urlInput').value||'').trim();
  if(!url||url.length<10){setErr('URLì„ ì…ë ¥í•´ì£¼ì„¸ìš”');return;}
  targetNum=parseInt($('targetInput').value)||0;setErr('');
  // â˜… ì´ì–´í•˜ê¸°ì¸ì§€ ìƒˆ ì‹œì‘ì¸ì§€ íŒë³„ â˜…
  const isResume=!!window._isResuming;
  window._isResuming=false;
  if(!isResume){top5Data=[];lastInfo.placeId=undefined;etaHistory=[];extractionDone=false;}
  $('gobtn').disabled=true;$('logbox').innerHTML='';
  $('emptyMsg').style.display='none';$('bizc').style.display='none';
  $('pfill').style.width='0';$('pnum').textContent='0/'+kws.length;$('ppct').textContent='';
  $('fndN').textContent=top5Data.length||'0';$('tdone').style.display='none';$('exbox').classList.remove('show');
  if(!isResume){['cntall','cntnew','cntold'].forEach(id=>$(id).textContent='0');curFilter='all';rankFilter=0;
    document.querySelectorAll('.ftab').forEach(t=>t.classList.toggle('act',t.dataset.f==='all'));
    document.querySelectorAll('.rchip').forEach(c=>c.classList.toggle('act',parseInt(c.dataset.r)===0));
    hide('secR');
  }
  show('secP');
  $('tbadge').textContent=`ğŸ¯ ${kws.length.toLocaleString()}ê°œ Â· ${getPreferMap()==='new'?'ğŸ”µì‹ ':'ğŸŸ¢êµ¬'} ${targetNum}ê°œ ëª©í‘œ`;
  $('tbadge').style.display='block';
  if(window._timerInt)clearInterval(window._timerInt);
  window._searchStart=Date.now();
  window._timerInt=setInterval(()=>{const sec=Math.floor((Date.now()-window._searchStart)/1000);const m=Math.floor(sec/60),s=sec%60;$('ptimer').textContent=`â± ${m}ë¶„ ${String(s).padStart(2,'0')}ì´ˆ`;},1000);
  // â˜… ì´ì–´í•˜ê¸°: ê¸°ì¡´ top5 ì„œë²„ì— ì „ë‹¬ â˜…
  const body={placeUrl:url,keywords:kws,preferMap:getPreferMap(),targetCount:targetNum};
  if(isResume&&top5Data.length>0)body.existingTop5=top5Data;
  fetch('/api/analyze',{method:'POST',headers:{'Content-Type':'application/json'},
    body:JSON.stringify(body)
  }).then(async res=>{
    const reader=res.body.getReader(),dec=new TextDecoder();let buf='';
    while(true){const{done,value}=await reader.read();if(done)break;buf+=dec.decode(value,{stream:true});const lines=buf.split('\n');buf=lines.pop();for(const line of lines){if(!line.startsWith('data: '))continue;try{handleEvent(JSON.parse(line.slice(6)));}catch(e){}}}
  }).catch(e=>{setErr('ì—°ê²° ì˜¤ë¥˜: '+e.message);$('gobtn').disabled=false;});
}

/* â•â•â• ì´ë²¤íŠ¸ â•â•â• */
function handleEvent(d){
  if(d.phase==='crawling'){$('slbl').innerHTML='<span class="spin">â—Œ</span>&nbsp;ì—…ì¥ ì •ë³´ ìˆ˜ì§‘ ì¤‘...';$('crow').style.display='flex';}
  else if(d.phase==='crawled'){
    const i=d.info||{};lastInfo=i;lastInfo.placeId=d.placeId||'';
    $('biznm').textContent=i.name||'';$('bizsub').textContent=[i.category,i.address].filter(Boolean).join(' Â· ');
    $('biznmlbl').textContent=i.name||'';
    const bt=$('btags');bt.innerHTML='';[...(i.menus||[]).slice(0,30),...(i.reviewTags||[]).slice(0,6)].forEach(t=>{const s=document.createElement('span');s.className='btag';s.textContent=t;bt.appendChild(s);});
    $('bizc').style.display='block';
  }
  else if(d.phase==='generated'){$('slbl').innerHTML=`<span class="spin">â—Œ</span>&nbsp;<b style="color:var(--blue)">${esc(d.catLabel||'')}</b> ê²€ìƒ‰ ì¤‘...`;}
  else if(d.phase==='filtered'){
    // â˜… ì§€ì—­í•„í„°ë¡œ ìŠ¤í‚µëœ í‚¤ì›Œë“œë¥¼ remainingì—ì„œ ì œê±° â˜…
    if(d.skippedKeywords&&d.skippedKeywords.length>0){
      const skipSet=new Set(d.skippedKeywords);
      remainingKeywords=remainingKeywords.filter(kw=>!skipSet.has(kw));
    }
    if(d.filteredCount)$('pnum').textContent=`0/${d.filteredCount.toLocaleString()}`;
  }
  else if(d.phase==='progress'){
    window._lastChecked=d.checked||0;
    $('pnum').textContent=d.totalKeywords?`${(d.checked||0).toLocaleString()}/${d.totalKeywords.toLocaleString()}`:`${(d.checked||0).toLocaleString()}ê°œ`;
    const nH=d.newHits||0,oH=d.oldHits||0,tot=d.top5Count||0;
    const prefH=getPreferMap()==='new'?nH:oH;
    const pct=targetNum>0?Math.min(Math.round(prefH/targetNum*100),99):0;
    $('pfill').style.width=pct+'%';$('ppct').textContent=`ğŸ”µ${nH} ğŸŸ¢${oH} = ${tot}`;
    $('fndN').textContent=tot;updateETA(d.checked||0,tot);
    $('slbl').innerHTML=d.paused?'â¸ ì¼ì‹œì •ì§€ë¨':'<span class="spin">â—Œ</span>&nbsp;ê²€ìƒ‰ ì¤‘';
    addLog(d.keyword,d.rank,d.mapType);
    if(d.rank&&d.rank<=5){top5Data.push({keyword:d.keyword,rank:d.rank,mapType:d.mapType,foundOrder:top5Data.length+1});playPing();renderTable(top5Data);updateExcelBox();show('secR');}
    // â˜… ê²€ìƒ‰ ì™„ë£Œëœ í‚¤ì›Œë“œë¥¼ remainingì—ì„œ ì •í™•íˆ ì œê±° â˜…
    if(d.keyword){const idx=remainingKeywords.indexOf(d.keyword);if(idx!==-1)remainingKeywords.splice(idx,1);}
    $('bpause').textContent=d.paused?'â–¶ ì¬ê°œ':'â¸ ì¼ì‹œì •ì§€';
    if(d.targetReached)$('tdone').style.display='flex';
  }
  else if(d.phase==='done'){
    extractionDone=true;top5Data=d.top5||[];remainingKeywords=d.remaining||[];
    renderTable(top5Data);updateExcelBox();
    $('doneN').textContent=top5Data.length;$('stnew').textContent=top5Data.filter(x=>x.mapType==='new').length;
    $('stold').textContent=top5Data.filter(x=>x.mapType==='old').length;$('stchk').textContent=(d.total||0).toLocaleString();
    $('slbl').innerHTML=`âœ… ì™„ë£Œ â€” <b style="color:var(--blue)">${top5Data.length}ê°œ</b>`;
    $('pfill').style.width='100%';$('etaWidget').textContent='';$('gobtn').disabled=false;$('crow').style.display='none';
    if(window._timerInt){clearInterval(window._timerInt);window._timerInt=null;}
    if(!top5Data.length)$('emptyMsg').style.display='block';
    if(d.targetReached)$('tdone').style.display='flex';
    show('secR');
  }
  else if(d.phase==='error'){setErr('ì˜¤ë¥˜: '+(d.msg||''));$('slbl').textContent='âŒ ì˜¤ë¥˜';$('gobtn').disabled=false;if(window._timerInt){clearInterval(window._timerInt);window._timerInt=null;}}
}

function addLog(kw,rank,mt){const lb=$('logbox'),div=document.createElement('div');div.className='lrow';const h=rank&&rank<=5;div.innerHTML=`<div class="lrk ${h?'h':''}">${h?'âœ…'+rank+'ìœ„':'â€”'}</div><div style="font-size:10px">${h?(mt==='new'?'ğŸ”µ':'ğŸŸ¢'):''}</div><div class="lkw ${h?'h':''}">${esc(kw)}</div>`;lb.appendChild(div);lb.scrollTop=lb.scrollHeight;}

function renderTable(list){
  const sorted=[...list].sort((a,b)=>(a.foundOrder||999)-(b.foundOrder||999));
  let f=curFilter==='all'?sorted:sorted.filter(x=>x.mapType===curFilter);
  if(rankFilter>0)f=f.filter(x=>x.rank===rankFilter);
  $('cntall').textContent=sorted.length;$('cntnew').textContent=sorted.filter(x=>x.mapType==='new').length;
  $('cntold').textContent=sorted.filter(x=>x.mapType==='old').length;
  $('doneN').textContent=sorted.length;$('stnew').textContent=sorted.filter(x=>x.mapType==='new').length;$('stold').textContent=sorted.filter(x=>x.mapType==='old').length;
  const rc=['','r1','r2','r3','r4','r5'];
  $('ktbody').innerHTML=f.map(item=>{const r=Math.min(item.rank,5);const tag=item.mapType==='new'?'<span class="kwtag new">ì‹ </span>':'<span class="kwtag old">êµ¬</span>';const k=esc(item.keyword).replace(/'/g,'&#39;');return`<tr><td style="text-align:center;font-size:11px;color:var(--gray);font-family:var(--mono)">${item.foundOrder||''}</td><td><span class="rnb ${rc[r]}">${item.rank}</span></td><td><span class="kworig">${esc(item.keyword)}</span>${tag}</td><td><button class="cpbtn" onclick="navigator.clipboard.writeText('${k}').then(()=>showToast('âœ… ë³µì‚¬!'))">ë³µì‚¬</button></td></tr>`;}).join('');
  if($('autoScrollChk').checked){const w=$('tblWrap');if(w)w.scrollTop=w.scrollHeight;}
}

function setFilter(f){curFilter=f;document.querySelectorAll('.ftab').forEach(t=>t.classList.toggle('act',t.dataset.f===f));renderTable(top5Data);}
function setRankFilter(r){rankFilter=r;document.querySelectorAll('.rchip').forEach(c=>c.classList.toggle('act',parseInt(c.dataset.r)===r));renderTable(top5Data);}
function copyAll(){const s=[...top5Data].sort((a,b)=>(a.foundOrder||999)-(b.foundOrder||999));const f=curFilter==='all'?s:s.filter(x=>x.mapType===curFilter);if(!f.length)return showToast('ë³µì‚¬í•  í‚¤ì›Œë“œ ì—†ìŒ');navigator.clipboard.writeText(f.map(i=>`${i.foundOrder||''}\t${i.rank}ìœ„\t${i.mapType==='new'?'ì‹ ':'êµ¬'}\t${i.keyword}`).join('\n')).then(()=>showToast(`ğŸ“‹ ${f.length}ê°œ ë³µì‚¬!`));}

function updateExcelBox(){
  if(!top5Data.length)return;
  const nC=top5Data.filter(k=>k.mapType==='new').length,oC=top5Data.filter(k=>k.mapType==='old').length;
  $('extxt').textContent=`ğŸ”µ${nC} + ğŸŸ¢${oC} = ${top5Data.length}ê°œ`;
  $('exsub').textContent=`A(ì‹ )+B(ìˆœìœ„) / C(êµ¬)+D(ìˆœìœ„)`;
  $('exbox').classList.add('show');
}

async function downloadExcel(){
  const pd=parseInt($('perDayInput').value)||100,dy=parseInt($('daysInput').value)||1;
  const btn=$('exbtn'),spin=$('exspin');btn.disabled=true;spin.style.display='flex';
  try{
    const res=await fetch('/api/export',{method:'POST',headers:{'Content-Type':'application/json'},
      body:JSON.stringify({keywords:top5Data,perDay:pd,days:dy,bizName:lastInfo.name||'',done:extractionDone,placeId:lastInfo.placeId||''})});
    if(!res.ok)throw new Error((await res.json()).error||'ì„œë²„ ì˜¤ë¥˜');
    const blob=await res.blob(),url=URL.createObjectURL(blob),a=document.createElement('a');a.href=url;
    const d=new Date();a.download=`${String(d.getMonth()+1).padStart(2,'0')}.${String(d.getDate()).padStart(2,'0')}${lastInfo.name||'result'} ${extractionDone?'ì¶”ì¶œì™„ë£Œ':'ì¶”ì¶œì¤‘'}.xlsx`;
    document.body.appendChild(a);a.click();a.remove();URL.revokeObjectURL(url);
    showToast('ğŸ“Š ì—‘ì…€ ë‹¤ìš´ë¡œë“œ ì™„ë£Œ!');
  }catch(e){showToast('âŒ '+e.message);}
  finally{btn.disabled=false;spin.style.display='none';}
}

async function doPause(){const p=$('bpause').textContent.includes('ì¬ê°œ');await fetch('/api/control',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({action:p?'resume':'pause'})});}
async function doStop(){if(window._timerInt){clearInterval(window._timerInt);window._timerInt=null;}await fetch('/api/control',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({action:'stop'})});}

function showHelp(){$('helpModal').classList.add('open');}
function closeHelp(){$('helpModal').classList.remove('open');}
updateGroupCounts();

/* â•â•â• ğŸ”„ Mode Switching â•â•â• */
/* â•â•â• ğŸ›’ Queue â•â•â• */
let batchRunning=false;
let manualQueue=[];
function addToQueue(){
  const url=($('urlInput').value||'').trim();
  if(!url||url.length<10){setErr('URLì„ ë¨¼ì € ì…ë ¥í•´ì£¼ì„¸ìš”');return;}
  const kws=remainingKeywords.length>0?[...remainingKeywords]:[...generatedKeywords];
  if(!kws.length){setErr('ë¨¼ì € [ì¡°í•© ìƒì„±]ì„ ì‹¤í–‰í•´ì£¼ì„¸ìš”');return;}
  const target=parseInt($('targetInput').value)||0;
  const pref=getPreferMap();
  const bizName=lastInfo.name||url.match(/(\d{7,15})/)?.[1]||'ì—…ì¥';
  manualQueue.push({mode:'manual',url,keywords:kws,targetCount:target,preferMap:pref,bizName,kwCount:kws.length});
  renderQueue();
  showToast(`ğŸ›’ "${bizName}" ëŒ€ê¸°ì—´ ì¶”ê°€! (${kws.length.toLocaleString()}ê°œ í‚¤ì›Œë“œ)`);
  // ë‹¤ìŒ ì—…ì¥ ì„¸íŒ… ìœ„í•´ ì´ˆê¸°í™”
  $('urlInput').value='';['g1','g2','g3','g4'].forEach(id=>{$(id).value='';});
  updateGroupCounts();generatedKeywords=[];remainingKeywords=[];
  $('gobtn').disabled=true;$('addQueueBtn').disabled=true;
  $('previewBox').style.display='none';$('comboCount').textContent='';
  $('bizInfoBar').style.display='none';$('shint').textContent='ë‹¤ìŒ ì—…ì¥ì„ ì„¸íŒ…í•˜ê±°ë‚˜ [âš¡ ì¼ê´„ ì‹œì‘]ì„ ëˆ„ë¥´ì„¸ìš”.';
}
function renderQueue(){
  const show=manualQueue.length>0;
  $('queueCard').style.display=show?'block':'none';
  $('queueCount').textContent=manualQueue.length;
  $('queueBody').innerHTML=manualQueue.map((q,i)=>`<tr>
    <td style="font-family:var(--mono);font-weight:700;color:var(--blue)">${i+1}</td>
    <td style="font-weight:600">${esc(q.bizName)}</td>
    <td style="font-family:var(--mono)">${q.kwCount.toLocaleString()}ê°œ</td>
    <td><input type="number" min="0" max="99999" value="${q.targetCount||0}" onchange="updateQueueItem(${i},'targetCount',parseInt(this.value)||0)" style="width:70px;padding:4px 6px;border:1px solid var(--gray4);border-radius:4px;font-family:var(--mono);font-size:12px;text-align:center"></td>
    <td><select onchange="updateQueueItem(${i},'preferMap',this.value)" style="padding:4px 6px;border:1px solid var(--gray4);border-radius:4px;font-size:11px;font-weight:600;cursor:pointer">
      <option value="new" ${q.preferMap==='new'?'selected':''}>ğŸ”µ ì‹ ì§€ë„</option>
      <option value="old" ${q.preferMap==='old'?'selected':''}>ğŸŸ¢ êµ¬ì§€ë„</option>
    </select></td>
    <td style="white-space:nowrap">
      <button class="qdel" onclick="moveQueue(${i},-1)" title="ìœ„ë¡œ" ${i===0?'disabled style="opacity:.3;cursor:default"':''}>â–²</button>
      <button class="qdel" onclick="moveQueue(${i},1)" title="ì•„ë˜ë¡œ" ${i===manualQueue.length-1?'disabled style="opacity:.3;cursor:default"':''}>â–¼</button>
    </td>
    <td><button class="qdel" onclick="removeQueue(${i})">âœ•</button></td>
  </tr>`).join('');
}
function updateQueueItem(i,key,val){
  if(i<0||i>=manualQueue.length)return;
  manualQueue[i][key]=val;
}
function moveQueue(i,dir){
  const j=i+dir;
  if(j<0||j>=manualQueue.length)return;
  [manualQueue[i],manualQueue[j]]=[manualQueue[j],manualQueue[i]];
  renderQueue();
}
function removeQueue(i){manualQueue.splice(i,1);renderQueue();}
function clearQueue(){manualQueue=[];renderQueue();showToast('ëŒ€ê¸°ì—´ ì´ˆê¸°í™”');}
function startManualBatch(){
  if(!manualQueue.length){showToast('ëŒ€ê¸°ì—´ì´ ë¹„ì–´ìˆìŠµë‹ˆë‹¤');return;}
  runBatch([...manualQueue]);
  manualQueue=[];renderQueue();
}

/* â•â•â• âš¡ Batch Runner (Auto & Manual ê³µí†µ) â•â•â• */
function runBatch(tasks){
  if(batchRunning){showToast('ì´ë¯¸ ì‘ì—…ì´ ì§„í–‰ ì¤‘ì…ë‹ˆë‹¤');return;}
  batchRunning=true;
  if($('startQueueBtn'))$('startQueueBtn').disabled=true;
  // ë°°ì¹˜ í”„ë¡œê·¸ë ˆìŠ¤ í‘œì‹œ
  $('batchBar').classList.add('on');
  $('batchTitle').textContent=`ğŸ­ ë‹¤ì¤‘ ì—…ì¥ ì²˜ë¦¬: ì´ ${tasks.length}ê°œ`;
  $('batchStatus').textContent='ì‹œì‘ ì¤‘...';
  $('batchPfill').style.width='0%';
  $('batchResults').innerHTML='';
  // ê¸°ì¡´ í”„ë¡œê·¸ë ˆìŠ¤/ê²°ê³¼ ì´ˆê¸°í™”
  top5Data=[];lastInfo={};etaHistory=[];extractionDone=false;
  $('logbox').innerHTML='';$('emptyMsg').style.display='none';
  hide('secR');show('secP');
  $('crow').style.display='flex';
  if(window._timerInt)clearInterval(window._timerInt);
  window._searchStart=Date.now();
  window._timerInt=setInterval(()=>{const sec=Math.floor((Date.now()-window._searchStart)/1000);const m=Math.floor(sec/60),s=sec%60;$('ptimer').textContent=`â± ${m}ë¶„ ${String(s).padStart(2,'0')}ì´ˆ`;},1000);

  fetch('/api/batch',{method:'POST',headers:{'Content-Type':'application/json'},
    body:JSON.stringify({tasks})
  }).then(async res=>{
    const reader=res.body.getReader(),dec=new TextDecoder();let buf='';
    while(true){
      const{done,value}=await reader.read();if(done)break;
      buf+=dec.decode(value,{stream:true});
      const lines=buf.split('\n');buf=lines.pop();
      for(const line of lines){if(!line.startsWith('data: '))continue;try{handleBatchEvent(JSON.parse(line.slice(6)));}catch(e){}}
    }
  }).catch(e=>{
    showToast('âŒ ì—°ê²° ì˜¤ë¥˜: '+e.message);
  }).finally(()=>{
    batchRunning=false;
    if($('startQueueBtn'))$('startQueueBtn').disabled=false;
  });
}

let _batchCurrentTask=0,_batchTotalTasks=0;
function handleBatchEvent(d){
  if(d.phase==='batch-start'){
    _batchTotalTasks=d.totalTasks;_batchCurrentTask=0;
    $('batchStatus').textContent=`ì´ ${d.totalTasks}ê°œ ì—…ì¥ ì²˜ë¦¬ ì‹œì‘`;
  }
  else if(d.phase==='batch-task-start'){
    _batchCurrentTask=d.taskIndex+1;
    const pct=Math.round((d.taskIndex/_batchTotalTasks)*100);
    $('batchPfill').style.width=pct+'%';
    $('batchStatus').textContent=`ì—…ì¥ ${_batchCurrentTask}/${_batchTotalTasks} ì²˜ë¦¬ ì¤‘...`;
    $('batchTitle').textContent=`ğŸ­ ë‹¤ì¤‘ ì—…ì¥ ì²˜ë¦¬: ${_batchCurrentTask} / ${_batchTotalTasks}`;
    top5Data=[];etaHistory=[];extractionDone=false;
    $('logbox').innerHTML='';$('emptyMsg').style.display='none';
    $('pfill').style.width='0';$('pnum').textContent='0';$('ppct').textContent='';
    $('fndN').textContent='0';$('tdone').style.display='none';$('exbox').classList.remove('show');
    ['cntall','cntnew','cntold'].forEach(id=>$(id).textContent='0');
    $('slbl').innerHTML=`<span class="spin">â—Œ</span>&nbsp;[${_batchCurrentTask}/${_batchTotalTasks}] ì‹œì‘...`;
  }
  else if(d.phase==='batch-url-done'){
    const pct=Math.round(((d.taskIndex+1)/_batchTotalTasks)*100);
    $('batchPfill').style.width=pct+'%';
    const nH=d.newHits||0,oH=d.oldHits||0;
    $('batchResults').innerHTML+=`<div class="batch-ritem"><span class="biz">âœ… ${esc(d.bizName||'ì—…ì¥'+(d.taskIndex+1))}</span><span class="cnt">ğŸ”µ${nH} ğŸŸ¢${oH} = ${(d.top5||[]).length}ê°œ</span></div>`;
    if(d.savedFile){
      fetch('/api/download-autosave/'+encodeURIComponent(d.savedFile)).then(r=>r.blob()).then(blob=>{
        const url=URL.createObjectURL(blob),a=document.createElement('a');a.href=url;a.download=d.savedFile;
        document.body.appendChild(a);a.click();a.remove();URL.revokeObjectURL(url);
        showToast(`ğŸ“¥ ${d.bizName||''} ì—‘ì…€ ë‹¤ìš´ë¡œë“œ!`);
      }).catch(()=>{});
    }
    playPing();
  }
  else if(d.phase==='batch-task-error'){
    $('batchResults').innerHTML+=`<div class="batch-ritem"><span class="biz" style="color:var(--red)">âŒ ì—…ì¥ ${(d.taskIndex||0)+1}</span><span class="cnt" style="color:var(--red)">${esc(d.msg||'ì˜¤ë¥˜')}</span></div>`;
  }
  else if(d.phase==='batch-done'){
    $('batchPfill').style.width='100%';
    $('batchStatus').textContent=`âœ… ${_batchTotalTasks}ê°œ ì—…ì¥ ëª¨ë‘ ì™„ë£Œ!`;
    $('batchTitle').textContent=`âœ… ë‹¤ì¤‘ ì—…ì¥ ì²˜ë¦¬ ì™„ë£Œ: ${_batchTotalTasks}ê°œ`;
    $('slbl').innerHTML='âœ… ì „ì²´ ë°°ì¹˜ ì™„ë£Œ';
    if(window._timerInt){clearInterval(window._timerInt);window._timerInt=null;}
    $('crow').style.display='none';
    showToast(`ğŸ‰ ${_batchTotalTasks}ê°œ ì—…ì¥ ì¶”ì¶œ ì™„ë£Œ!`);
  }
  else{ handleEvent(d); }
}
</script>

<div class="modal-overlay" id="helpModal" onclick="if(event.target===this)closeHelp()">
  <div class="modal-box" style="max-width:640px">
    <button class="modal-close" onclick="closeHelp()">âœ•</button>
    <div class="modal-title">ğŸ“– ì´ì§€ë³´ë“œ ë§ˆìŠ¤í„° ê°€ì´ë“œ</div>
    <div class="modal-step"><div class="modal-num">1</div><div class="modal-step-text"><b>URL ì…ë ¥ ë° ì¶”ì²œ ë‹¨ì–´</b><br>ë¶„ì„í•  í”Œë ˆì´ìŠ¤ URLì„ ë„£ê³  <b style="color:var(--blue)">[âœ¦ ì¶”ì²œ ë‹¨ì–´ ë¶ˆëŸ¬ì˜¤ê¸°]</b>ë¥¼ ëˆ„ë¥´ì„¸ìš”. ì—…ì¥ì˜ ìœ„ì¹˜Â·ë©”ë‰´Â·ì¹´í…Œê³ ë¦¬ë¥¼ ìë™ ë¶„ì„í•˜ì—¬ 4ê°œ ê·¸ë£¹(ì§€ì—­/ìˆ˜ì‹ì–´/ë©”ë‰´/ì˜ë„ì–´)ì— ìµœì ì˜ ë‹¨ì–´ë¥¼ ì±„ì›Œì¤ë‹ˆë‹¤. 36ê°œ ì—…ì¢…, 119ê°œ ì§€ì—­ ëœë“œë§ˆí¬ DBê°€ ë‚´ì¥ë˜ì–´ ìˆì–´ìš”.</div></div>
    <div class="modal-step"><div class="modal-num">2</div><div class="modal-step-text"><b>ë¸”ë™ë¦¬ìŠ¤íŠ¸ (ì¤‘ë³µ í‚¤ì›Œë“œ ì œê±°)</b><br><b style="color:#EF4444">[ğŸš« ê³¼ê±° ì¶”ì¶œ ì—‘ì…€ ì²¨ë¶€]</b>ë¡œ ì´ì „ì— ì¶”ì¶œí•œ í‚¤ì›Œë“œ ì—‘ì…€ì„ ì—…ë¡œë“œí•˜ë©´, ì´ë¯¸ í™•ë³´ëœ í‚¤ì›Œë“œë¥¼ <b style="color:var(--green2)">ìë™ìœ¼ë¡œ ì œì™¸</b>í•˜ê³  ìƒˆ í‚¤ì›Œë“œë§Œ ì°¾ìŠµë‹ˆë‹¤. ê°™ì€ ì—…ì¥ì„ ë°˜ë³µ ì¶”ì¶œí•  ë•Œ ì¤‘ë³µ ì—†ì´ ë§¤ë²ˆ <b>ì‹ ì„ í•œ í‚¤ì›Œë“œë§Œ ë°œêµ´</b>í•  ìˆ˜ ìˆì–´ì„œ, ë§¤ì£¼ ë¦¬ì›Œë“œ ë¯¸ì…˜ í‚¤ì›Œë“œë¥¼ êµì²´í•˜ëŠ” ë¶„ë“¤ì—ê²Œ í•„ìˆ˜ ê¸°ëŠ¥ì…ë‹ˆë‹¤.</div></div>
    <div class="modal-step"><div class="modal-num">3</div><div class="modal-step-text"><b>ì •ë°€ ì¡°í•© ìƒì„±</b><br><b style="color:var(--blue)">[âš¡ ì¡°í•© ìƒì„±]</b> ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì§€ì—­+ìˆ˜ì‹ì–´+ë©”ë‰´+ì˜ë„ì–´ê°€ ê²°í•©ëœ í‚¤ì›Œë“œ ìˆ˜ë°±~ìˆ˜ì²œ ê°œê°€ 1ì´ˆ ë§Œì— ìƒì„±ë©ë‹ˆë‹¤. ëª©í‘œ ìˆ˜ëŸ‰ ì„¤ì •ìœ¼ë¡œ ìƒì„±ëŸ‰ì„ ì œì–´í•  ìˆ˜ ìˆì–´ìš”.</div></div>
    <div class="modal-step"><div class="modal-num">4</div><div class="modal-step-text"><b>ì¶”ì¶œ ì‹œì‘ (ì „ìˆ˜ ì¡°ì‚¬)</b><br><b style="color:var(--blue)">[â–¶ ì¶”ì¶œ ì‹œì‘]</b>ì„ ëˆ„ë¥´ë©´ 15ê°œ ë¸Œë¼ìš°ì € íƒ­ì´ ë™ì‹œì— ë„¤ì´ë²„ì—ì„œ ê²€ìƒ‰í•˜ì—¬, <b>5ìœ„ ì´ë‚´ ë…¸ì¶œ í‚¤ì›Œë“œ</b>ë§Œ ìë™ìœ¼ë¡œ ê³¨ë¼ëƒ…ë‹ˆë‹¤. ğŸ”µ ì‹ ì§€ë„ / ğŸŸ¢ êµ¬ì§€ë„ íŒë³„ë„ ìë™ì´ê³ , ë„¤ì´ë²„ ì°¨ë‹¨ ìš°íšŒÂ·ì„¸ì…˜ ì„¸íƒë„ ì•Œì•„ì„œ ì²˜ë¦¬ë©ë‹ˆë‹¤.</div></div>
    <div class="modal-step"><div class="modal-num">5</div><div class="modal-step-text"><b>ê²°ê³¼ í™•ì¸ ë° í•„í„°</b><br>ì¶”ì¶œëœ í‚¤ì›Œë“œëŠ” ìˆœìœ„Â·ì§€ë„ ìœ í˜•ë³„ë¡œ ì •ë ¬ë˜ì–´ í…Œì´ë¸”ì— í‘œì‹œë©ë‹ˆë‹¤. ìƒë‹¨ í•„í„° ì¹©(ğŸ”µ ì‹ ì§€ë„ / ğŸŸ¢ êµ¬ì§€ë„ / 1ìœ„~5ìœ„)ìœ¼ë¡œ ì›í•˜ëŠ” í‚¤ì›Œë“œë§Œ ê³¨ë¼ë³¼ ìˆ˜ ìˆì–´ìš”.</div></div>
    <div class="modal-step"><div class="modal-num">6</div><div class="modal-step-text"><b>ì—‘ì…€ ì €ì¥</b><br><b style="color:var(--blue)">[ğŸ“¥ ì—‘ì…€ ì €ì¥]</b>ì„ ëˆ„ë¥´ë©´ ì‹ ì§€ë„/êµ¬ì§€ë„ë³„ë¡œ ë¶„ë¥˜ëœ ê²°ê³¼ê°€ ì¼ìë³„ ì‹œíŠ¸ë¡œ ë‚˜ë‰˜ì–´ ì—‘ì…€ íŒŒì¼ë¡œ ë‹¤ìš´ë¡œë“œë©ë‹ˆë‹¤. ë¦¬ì›Œë“œ ìœ ì… ë¯¸ì…˜ì— ë°”ë¡œ ì‚¬ìš© ê°€ëŠ¥í•œ ì–‘ì‹ì´ì—ìš”.</div></div>
    <div class="modal-step"><div class="modal-num">7</div><div class="modal-step-text"><b>ëŒ€ê¸°ì—´ (ë‹¤ì¤‘ ì—…ì¥ ìë™í™”)</b><br>ì—¬ëŸ¬ ì—…ì¥ì„ ì—°ì†ìœ¼ë¡œ ëŒë¦¬ë ¤ë©´ <b style="color:var(--blue)">[ğŸ›’ ëŒ€ê¸°ì—´ì— ì¶”ê°€]</b>ë¡œ ëª¨ì•„ë‘” ë’¤ <b>[âš¡ ì¼ê´„ ì‹œì‘]</b>ì„ ëˆ„ë¥´ì„¸ìš”. ê° ì—…ì¥ë³„ë¡œ ëª©í‘œ ìˆ˜ëŸ‰, ìš°ì„  íƒ€ê²Ÿ(ì‹ ì§€ë„/êµ¬ì§€ë„)ì„ ê°œë³„ ì„¤ì •í•  ìˆ˜ ìˆì–´ ëŒ€í–‰ì‚¬Â·ì‹¤í–‰ì‚¬ì˜ ëŒ€ëŸ‰ ì‘ì—…ì— ìµœì í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</div></div>
    <div style="margin-top:20px;padding:14px;background:var(--sky2);border-radius:10px;font-size:12px;color:var(--blue);line-height:1.7">
      <b>ğŸ’¡ í•µì‹¬ í¬ì¸íŠ¸:</b> ê°™ì€ í‚¤ì›Œë“œë¥¼ ë°˜ë³µ ì ‘ìˆ˜í•˜ë©´ ë„¤ì´ë²„ê°€ ë¹„ì •ìƒ íŠ¸ë˜í”½ìœ¼ë¡œ ì¸ì‹í•©ë‹ˆë‹¤. ì´ì§€ë³´ë“œë¡œ ë§¤ì¼Â·ë§¤ì£¼ ìƒˆë¡œìš´ í‚¤ì›Œë“œë¥¼ êµì²´í•˜ë©´, <b>ìì—°ìŠ¤ëŸ¬ìš´ ìœ ì…ìœ¼ë¡œ ì¸ì‹ë˜ì–´ í”Œë ˆì´ìŠ¤ ìˆœìœ„ì— ê¸ì •ì ì¸ ì ìˆ˜ê°€ ë°˜ì˜</b>ë©ë‹ˆë‹¤.
    </div>
  </div>
</div>
<div class="theme-toggle" id="themeToggle" onclick="toggleTheme()">ğŸŒ™</div>
</body>
</html>
